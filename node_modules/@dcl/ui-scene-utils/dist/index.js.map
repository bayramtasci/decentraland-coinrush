{"version":3,"file":"index.js","sources":["../src/utils/timerComponents.ts","../src/utils/default-ui-components.ts","../src/utils/types.ts","../src/counter/index.ts","../src/utils/resources.ts","../src/bar/index.ts","../src/ui-images/index.ts","../src/prompts/okPrompt/index.ts","../src/prompts/optionPrompt/index.ts","../src/prompts/fillInPrompt/index.ts","../src/prompts/customPrompt/index.ts","../src/cornerLabel/index.ts","../src/loading/index.ts","../src/search/commons/shared.ts","../src/search/commons/UIBase.ts","../src/search/UIPoweredInputText.ts","../src/search/UIClickableContainerRect.ts","../src/search/UISearchPromptOption.ts","../src/search/UISearchPrompt.ts","../src/search/UISelectBox.ts","../src/announcement/index.ts"],"sourcesContent":["export interface ITimerComponent {\n  elapsedTime: number\n  targetTime: number\n  onTargetTimeReached: (ownerEntity: IEntity) => void\n}\n\n/**\n * Execute once after X milliseconds\n */\n@Component('UItimerDelay')\nexport class UIDelay implements ITimerComponent {\n  elapsedTime: number\n  targetTime: number\n  onTargetTimeReached: (ownerEntity: IEntity) => void\n\n  private onTimeReachedCallback: () => void\n\n  /**\n   * @param seconds amount of time in seconds\n   * @param onTimeReachedCallback callback for when time is reached\n   */\n  constructor(seconds: number, onTimeReachedCallback: () => void) {\n    TimerSystem.createAndAddToEngine()\n\n    this.elapsedTime = 0\n    this.targetTime = seconds\n    this.onTimeReachedCallback = onTimeReachedCallback\n    this.onTargetTimeReached = entity => {\n      this.onTimeReachedCallback()\n      entity.removeComponent(UIDelay)\n    }\n  }\n\n  setCallback(onTimeReachedCallback: () => void) {\n    this.onTimeReachedCallback = onTimeReachedCallback\n  }\n}\n\nconst entitiesWithDelay = engine.getComponentGroup(UIDelay)\n\nexport class TimerSystem implements ISystem {\n  private static _instance: TimerSystem | null = null\n\n  static createAndAddToEngine(): TimerSystem {\n    if (this._instance == null) {\n      this._instance = new TimerSystem()\n      engine.addSystem(this._instance)\n    }\n    return this._instance\n  }\n\n  private constructor() {\n    TimerSystem._instance = this\n  }\n\n  update(dt: number) {\n    for (let ent of entitiesWithDelay.entities) {\n      let timerComponent = ent.getComponent(UIDelay)\n\n      timerComponent.elapsedTime += dt\n\n      if (timerComponent.elapsedTime >= timerComponent.targetTime) {\n        timerComponent.onTargetTimeReached(ent)\n      }\n    }\n  }\n}\n","export const canvas = new UICanvas()\ncanvas.visible = true\n\nexport let SFFont = new Font(Fonts.SanFrancisco)\n\nexport let SFHeavyFont = new Font(Fonts.SanFrancisco_Heavy)\n\n\nexport let lightTheme = new Texture('https://decentraland.org/images/ui/light-atlas-v3.png')\nexport let darkTheme = new Texture('https://decentraland.org/images/ui/dark-atlas-v3.png')\n\nexport const message = new UIText(canvas) //messageBackground\nmessage.vAlign = 'center'\nmessage.hAlign = 'center'\nmessage.hTextAlign = 'center'\nmessage.vTextAlign = 'center'\nmessage.font = SFFont\nmessage.fontSize = 60\nmessage.color = new Color4(0, 0, 0, 1)\nmessage.visible = false\nmessage.positionY = 80\n\nexport const promptBackground = new UIImage(canvas, lightTheme)\npromptBackground.hAlign = 'center'\npromptBackground.vAlign = 'center'\npromptBackground.width = 400\npromptBackground.height = 250\npromptBackground.visible = false\n","/**\n * Cut out a section of an image file\n *\n * @typedef {Object} ImageSection - Object with data to only display a section of an image\n * @property {number} sourceWidth Width in pixels to select from image, starting from the sourceLeft, going right\n * @property {number} sourceHeight Height in pixels to select from image, starting from the sourceTop, going down\n * @property {number} sourceLeft Leftmost pixel to select from image\n * @property {number} sourceTop Topmost pixel to select from image\n *\n */\nexport type ImageSection = {\n  sourceWidth: number\n  sourceHeight: number\n  sourceLeft?: number\n  sourceTop?: number\n}\n\nexport enum PromptStyles {\n  LIGHT = `light`,\n  DARK = `dark`,\n  LIGHTLARGE = `lightlarge`,\n  DARKLARGE = `darklarge`,\n  LIGHTSLANTED = `lightslanted`,\n  DARKSLANTED = `darkslanted`\n}\n\nexport enum BarStyles {\n  ROUNDBLACK = `roundblack`,\n  ROUNDWHITE = `roundwhite`,\n  ROUNDSILVER = `roundsilver`,\n  ROUNDGOLD = `roundgold`,\n  SQUAREBLACK = `squareblack`,\n  SQUAREWHITE = `squarewhite`,\n  SQUARESILVER = `squaresilver`,\n  SQUAREGOLD = `squaregold`\n}\n\nexport enum ButtonStyles {\n  E = `e`,\n  F = `f`,\n  DARK = `dark`,\n  RED = `red`,\n  ROUNDBLACK = `roundblack`,\n  ROUNDWHITE = `roundwhite`,\n  ROUNDSILVER = `roundsilver`,\n  ROUNDGOLD = `roundgold`,\n  SQUAREBLACK = `squareblack`,\n  SQUAREWHITE = `squarewhite`,\n  SQUARESILVER = `squaresilver`,\n  SQUAREGOLD = `squaregold`\n}\n\nexport enum SwitchStyles {\n  ROUNDGREEN = `roundgreen`,\n  ROUNDRED = `roundred`,\n  SQUAREGREEN = `squaregreen`,\n  SQUARERED = `squarered`\n}\n\n/**\n *\n *\n * @typedef {Object} ImageData - Object with data for displaying an image\n * @property {string} path Path to the image file.\n * @property {number} offsetX Offset on X, relative to the normal position of the image.\n * @property {number} offsetY Offset on Y, relative to the normal position of the image.\n * @property {number} height The height to show the image onscreen.\n * @property {number} width The width to show the image onscreen.\n * @property {ImageSection} section Use only a section of the image file, useful when arranging multiple icons into an image atlas. This field takes an `ImageSection` object, specifying `sourceWidth` and `sourceHeight`, and optionally also `sourceLeft` and `sourceTop`.\n *\n */\nexport type ImageData = {\n  path: string\n  offsetX?: number\n  offsetY?: number\n  height?: number\n  width?: number\n  section?: ImageSection\n}\n","import { canvas, SFFont } from '../utils/default-ui-components'\n\n/**\n * Displays a number on the center of the UI\n *\n * @param {number} value starting value\n * @param {number} [xOffset=0] position on X, to enable fitting several counters\n * @param {number} [yOffset=0] position on Y, to enable fitting several counters\n * @param {Color4} [color=Color4.White()] text color\n * @param {number} [size=25] text size\n * @param {boolean} bordersOff remove black border around text\n * @param {boolean} fixedDigits display a specific amount of digits, regardless of the value, adding preceding 0s\n *\n */\nexport class UICounter extends Entity {\n  valueAsNum: number\n  uiText: UIText\n  canvas: UICanvas = canvas\n  fixedDigits: number | null\n  constructor(\n    value: number,\n    xOffset?: number,\n    yOffset?: number,\n    color?: Color4,\n    size?: number,\n    bordersOff?: boolean,\n    fixedDigits?: number\n  ) {\n    super()\n    this.valueAsNum = value\n    this.uiText = new UIText(canvas)\n\n    this.fixedDigits = fixedDigits ? fixedDigits : null\n\n    this.uiText.value = this.toFixedLengthString(value)\n\n    this.uiText.hAlign = 'right'\n    this.uiText.vAlign = 'bottom'\n    this.uiText.positionX = xOffset ? xOffset : 0\n    this.uiText.positionY = yOffset ? yOffset : 0\n    this.uiText.fontSize = size ? size : 25\n    this.uiText.font = SFFont\n    this.uiText.vTextAlign = 'center'\n    this.uiText.hTextAlign = 'center'\n    this.uiText.color = color ? color : Color4.White()\n\n    this.uiText.outlineColor = Color4.Black()\n    this.uiText.outlineWidth = bordersOff ? 0 : 0.1\n  }\n\n  /**\n   * Get the current value of the counter\n   *  * @return {number} The current value of the counter\n   *\n   */\n  public read(): number {\n    return this.valueAsNum\n  }\n\n  /**\n   * Increase the value on the counter.\n   *\n   * @param {number} [amount=1] How much to increase the counter. By default it increases by 1\n   *\n   */\n  public increase(amount?: number): void {\n    this.valueAsNum += amount ? amount : 1\n    this.uiText.value = this.toFixedLengthString(this.valueAsNum)\n  }\n\n  /**\n   * Decrease the value on the counter.\n   *\n   * @param {number} [amount=1] How much to decrease the counter. By default it decreases by 1\n   *\n   */\n  public decrease(amount?: number): void {\n    this.valueAsNum -= amount ? amount : 1\n    this.uiText.value = this.toFixedLengthString(this.valueAsNum)\n  }\n\n  /**\n   * Sets the counter's value to a specific amount, regardless of what it was before.\n   *\n   * @param {number} amount New value for the counter\n   *\n   */\n  public set(amount: number): void {\n    this.valueAsNum = amount\n    this.uiText.value = this.toFixedLengthString(this.valueAsNum)\n  }\n\n  /**\n   * Hides the counter from view in the screen. Its values can still be changed and read while hidden.\n   */\n  public hide(): void {\n    this.uiText.visible = false\n  }\n\n  /**\n   * Makes an invisible counter visible again.\n   */\n  public show(): void {\n    this.uiText.visible = true\n  }\n\n  // Adds 0s on the left, or rounds decimals to adjust length\n  private toFixedLengthString(value: number) {\n    let stringValue = value.toString()\n    if (!this.fixedDigits) return stringValue\n    let lenDiff = stringValue.length - this.fixedDigits\n\n    while (lenDiff < 0) {\n      stringValue = '0'.concat(stringValue)\n      lenDiff += 1\n    }\n\n    if (lenDiff > 0) {\n      stringValue = value.toPrecision(this.fixedDigits)\n    }\n\n    return stringValue\n  }\n}\n","import { ImageSection } from './types'\n\nexport default {\n  buttons: {\n    buttonE: {\n      sourceWidth: 174,\n      sourceHeight: 46,\n      sourceLeft: 512,\n      sourceTop: 662\n    },\n    buttonF: {\n      sourceWidth: 174,\n      sourceHeight: 46,\n      sourceLeft: 512,\n      sourceTop: 612\n    },\n\twhite: {\n\t\tsourceWidth: 174,\n\t\tsourceHeight: 46,\n\t\tsourceLeft: 698,\n\t\tsourceTop: 662\n\t},\n    buttonRed: {\n      sourceWidth: 174,\n      sourceHeight: 46,\n      sourceLeft: 512,\n      sourceTop: 662\n    },\n    buttonDark: {\n      sourceWidth: 174,\n      sourceHeight: 46,\n      sourceLeft: 512,\n      sourceTop: 612\n    },\n    roundBlack: {\n      sourceWidth: 128,\n      sourceHeight: 32,\n      sourceLeft: 512,\n      sourceTop: 458\n    },\n    squareBlack: {\n      sourceWidth: 128,\n      sourceHeight: 32,\n      sourceLeft: 646,\n      sourceTop: 457\n    },\n    roundWhite: {\n      sourceWidth: 128,\n      sourceHeight: 32,\n      sourceLeft: 512,\n      sourceTop: 494\n    },\n    squareWhite: {\n      sourceWidth: 128,\n      sourceHeight: 32,\n      sourceLeft: 646,\n      sourceTop: 493\n    },\n    roundSilver: {\n      sourceWidth: 128,\n      sourceHeight: 32,\n      sourceLeft: 512,\n      sourceTop: 531\n    },\n    squareSilver: {\n      sourceWidth: 128,\n      sourceHeight: 32,\n      sourceLeft: 646,\n      sourceTop: 531\n    },\n    roundGold: {\n      sourceWidth: 128,\n      sourceHeight: 32,\n      sourceLeft: 512,\n      sourceTop: 567\n    },\n    squareGold: {\n      sourceWidth: 128,\n      sourceHeight: 32,\n      sourceLeft: 646,\n      sourceTop: 567\n    }\n  },\n  buttonLabels: {\n    E: {\n      sourceWidth: 26,\n      sourceHeight: 26,\n      sourceLeft: 697,\n      sourceTop: 611\n    },\n    F: {\n      sourceWidth: 26,\n      sourceHeight: 26,\n      sourceLeft: 733,\n      sourceTop: 611\n    },\n\tEBlack: {\n\t\tsourceWidth: 26,\n\t\tsourceHeight: 26,\n\t\tsourceLeft: 766,\n\t\tsourceTop: 611\n\t},\n\t  FBlack: {\n\t\tsourceWidth: 26,\n\t\tsourceHeight: 26,\n\t\tsourceLeft: 802,\n\t\tsourceTop: 611\n\t}\n  },\n  backgrounds: {\n    promptBackground: {\n      sourceWidth: 416,\n      sourceHeight: 352,\n      sourceLeft: 501,\n      sourceTop: 12\n    },\n    promptLargeBackground: {\n      sourceWidth: 480,\n      sourceHeight: 384,\n      sourceLeft: 7,\n      sourceTop: 12\n    },\n    promptSlantedBackground: {\n      sourceWidth: 486,\n      sourceHeight: 326,\n      sourceLeft: 7,\n      sourceTop: 413\n    },\n    NPCDialog: {\n      sourceWidth: 766,\n      sourceHeight: 248,\n      sourceLeft: 22,\n      sourceTop: 756\n    }\n  },\n  icons: {\n    closeW: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 942,\n      sourceTop: 306\n    },\n    closeD: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 986,\n      sourceTop: 306\n    },\n    closeWLarge: {\n      sourceWidth: 64,\n      sourceHeight: 64,\n      sourceLeft: 512,\n      sourceTop: 381\n    },\n    closeDLarge: {\n      sourceWidth: 64,\n      sourceHeight: 64,\n      sourceLeft: 583,\n      sourceTop: 381\n    },\n    closeWNoBack: {\n      sourceWidth: 24,\n      sourceHeight: 24,\n      sourceLeft: 946,\n      sourceTop: 252\n    },\n    closeDNoBack: {\n      sourceWidth: 24,\n      sourceHeight: 24,\n      sourceLeft: 946,\n      sourceTop: 214\n    },\n    closeWNoBackLarge: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 987,\n      sourceTop: 214\n    },\n    closeDNoBackLarge: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 987,\n      sourceTop: 260\n    },\n    FDark: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 950,\n      sourceTop: 4\n    },\n    FWhite: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 987,\n      sourceTop: 4\n    },\n    EDark: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 950,\n      sourceTop: 40\n    },\n    EWhite: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 987,\n      sourceTop: 40\n    },\n    Timer: {\n      sourceWidth: 24,\n      sourceHeight: 32.2,\n      sourceLeft: 718,\n      sourceTop: 388\n    },\n    TimerLarge: {\n      sourceWidth: 48,\n      sourceHeight: 68,\n      sourceLeft: 662,\n      sourceTop: 386\n    },\n    ClickWhite: {\n      sourceWidth: 32,\n      sourceHeight: 48,\n      sourceLeft: 799,\n      sourceTop: 389\n    },\n    ClickDark: {\n      sourceWidth: 32,\n      sourceHeight: 48,\n      sourceLeft: 757,\n      sourceTop: 389\n    }\n  },\n  checkboxes: {\n    wOff: {\n      sourceWidth: 24,\n      sourceHeight: 24,\n      sourceLeft: 987,\n      sourceTop: 76\n    },\n    wOn: {\n      sourceWidth: 24,\n      sourceHeight: 24,\n      sourceLeft: 987,\n      sourceTop: 104\n    },\n    dOff: {\n      sourceWidth: 24,\n      sourceHeight: 24,\n      sourceLeft: 958,\n      sourceTop: 76\n    },\n    dOn: {\n      sourceWidth: 24,\n      sourceHeight: 24,\n      sourceLeft: 958,\n      sourceTop: 104\n    },\n    wLargeOff: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 987,\n      sourceTop: 132\n    },\n    wLargeOn: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 987,\n      sourceTop: 168\n    },\n    dLargeOff: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 950,\n      sourceTop: 132\n    },\n    dLargeOn: {\n      sourceWidth: 32,\n      sourceHeight: 32,\n      sourceLeft: 950,\n      sourceTop: 168\n    }\n  },\n  switches: {\n    roundOff: {\n      sourceWidth: 64,\n      sourceHeight: 32,\n      sourceLeft: 783,\n      sourceTop: 454\n    },\n    roundRed: {\n      sourceWidth: 64,\n      sourceHeight: 32,\n      sourceLeft: 853,\n      sourceTop: 454\n    },\n    roundGreen: {\n      sourceWidth: 64,\n      sourceHeight: 32,\n      sourceLeft: 923,\n      sourceTop: 454\n    },\n    squareOff: {\n      sourceWidth: 64,\n      sourceHeight: 32,\n      sourceLeft: 783,\n      sourceTop: 501\n    },\n    squareRed: {\n      sourceWidth: 64,\n      sourceHeight: 32,\n      sourceLeft: 852,\n      sourceTop: 501\n    },\n    squareGreen: {\n      sourceWidth: 64,\n      sourceHeight: 32,\n      sourceLeft: 921,\n      sourceTop: 501\n    }\n  }\n}\n\nexport function setSection(image: UIImage, section: ImageSection) {\n  image.sourceWidth = section.sourceWidth\n  image.sourceHeight = section.sourceHeight\n  image.sourceLeft = section.sourceLeft ? section.sourceLeft : 0\n  image.sourceTop = section.sourceTop ? section.sourceTop : 0\n}\n\nexport function buttonIconPos(textLen: number) {\n  let pos = -10 - textLen * 4\n  return pos > -65 ? pos : -65\n}\n","import { canvas, lightTheme } from '../utils/default-ui-components'\nimport { BarStyles } from '../utils/types'\nimport resources, { setSection } from '../utils/resources'\n\n/**\n * Displays a colored bar that can be filled up and updated to different values.\n *\n * @param {number} value starting value\n * @param {number} [xOffset=0] position on X, to enable fitting several counters\n * @param {number} yOffset position on Y, to enable fitting several counters\n * @param {Color4} fillColor color of the bar\n * @param {BarStyles} style margin style of the bar, from the BarStyles enum\n * @param {number} [scale=1] multiplier for the size of the bar. 1 = 128 x 32\n * @param {boolean} startHidden if true, image starts invisible to load in the background till it runs its show() function.\n *\n */\nexport class UIBar extends Entity {\n  valueAsNum: number\n  background: UIImage\n  bar: UIContainerRect\n  canvas: UICanvas = canvas\n  fullWidth: number\n  constructor(\n    value: number,\n    xOffset?: number,\n    yOffset?: number,\n    fillColor?: Color4,\n    style?: BarStyles,\n    scale?: number,\n    startHidden?: boolean\n  ) {\n    super()\n\n    this.valueAsNum = value > 1 ? 1 : value\n    this.fullWidth = scale ? 128 * scale : 128\n\n    this.background = new UIImage(canvas, lightTheme)\n    this.background.width = scale ? scale * 128 : 128\n    this.background.height = scale ? scale * 32 : 32\n    this.background.hAlign = 'right'\n    this.background.vAlign = 'bottom'\n    this.background.positionX = xOffset ? xOffset : 0\n    this.background.positionY = yOffset ? yOffset : 0\n\n    if (!style) {\n      setSection(this.background, resources.buttons.roundSilver)\n    } else {\n      switch (style) {\n        case BarStyles.ROUNDBLACK:\n          setSection(this.background, resources.buttons.roundBlack)\n          break\n        case BarStyles.ROUNDWHITE:\n          setSection(this.background, resources.buttons.roundWhite)\n          break\n        case BarStyles.ROUNDSILVER:\n          setSection(this.background, resources.buttons.roundSilver)\n          break\n        case BarStyles.ROUNDGOLD:\n          setSection(this.background, resources.buttons.roundGold)\n          break\n        case BarStyles.SQUAREBLACK:\n          setSection(this.background, resources.buttons.squareBlack)\n          break\n        case BarStyles.SQUAREWHITE:\n          setSection(this.background, resources.buttons.squareWhite)\n          break\n        case BarStyles.SQUARESILVER:\n          setSection(this.background, resources.buttons.squareSilver)\n          break\n        case BarStyles.SQUAREGOLD:\n          setSection(this.background, resources.buttons.squareGold)\n          break\n      }\n    }\n\n    this.background.sourceWidth = 128\n    this.background.sourceHeight = 32\n    this.background.visible = true\n\n    this.bar = new UIContainerRect(this.background)\n    this.bar.color = fillColor ? fillColor : Color4.Red()\n    this.bar.thickness = 0\n\n    this.bar.hAlign = 'left'\n    this.bar.vAlign = 'center'\n    this.bar.positionX = scale ? 2.55 * scale : 2.55\n    this.bar.positionY = 0\n    this.bar.height = scale ? scale * 32 - scale * 7.5 : 32 - 7.5\n    this.bar.width = scale\n      ? this.fullWidth * this.valueAsNum - 5.1 * scale\n      : this.fullWidth * this.valueAsNum - 5.1\n\n    if (startHidden) {\n      this.hide()\n    }\n  }\n\n  /**\n   * Get the current value of the bar\n   *  * @return {number} The current value of the bar, as a value from 0 to 1\n   *\n   */\n  public read(): number {\n    return this.valueAsNum\n  }\n\n  /**\n   * Increase the value on the bar.\n   *\n   * @param {number} [amount=0.1] How much to increase the bar, up to a maximum of 1. By default it increases by 0.1\n   *\n   */\n  public increase(amount?: number): void {\n    this.valueAsNum += amount ? amount : 0.1\n    this.bar.width = this.fullWidth * this.valueAsNum - 6\n  }\n\n  /**\n   * Decrease the value on the bar.\n   *\n   * @param {number} [amount=0.1] How much to decrease the bar, down to a minimum of 0. By default it decreases by 0.1\n   *\n   */\n  public decrease(amount?: number): void {\n    this.valueAsNum -= amount ? amount : 0.1\n    this.bar.width = this.fullWidth * this.valueAsNum - 6\n  }\n\n  /**\n   * Sets the bar's value to a specific amount, regardless of what it was before.\n   *\n   * @param {number} amount New value for the bar, between 0 and 1\n   *\n   */\n  public set(amount: number): void {\n    this.valueAsNum = amount\n    this.bar.width = this.fullWidth * this.valueAsNum - 6\n  }\n\n  /**\n   * Hides the bar from view in the screen. Its values can still be changed and read while hidden.\n   */\n  public hide(): void {\n    this.background.visible = false\n    this.bar.visible = false\n  }\n\n  /**\n   * Makes an invisible bar visible again.\n   */\n  public show(): void {\n    this.background.visible = true\n    this.bar.visible = true\n  }\n}\n","import { canvas } from '../utils/default-ui-components'\nimport { ImageSection } from '../utils/types'\nimport { UIDelay } from '../utils/timerComponents'\n\n/**\n * Displays an icon of 64x64 on the bottom-left corner\n *\n * @param {string} image path to image file\n * @param {number} xOffset position on X, to enable fitting several counters\n * @param {number} yOffset position on Y, to enable fitting several counters\n * @param {number} width image width\n * @param {number} height image height\n * @param {ImageSection} section cut out a section of the imge, as an object specifying sourceLeft, sourceTop, sourceWidth and sourceHeight\n *\n */\nexport class MediumIcon extends Entity {\n  image: UIImage\n  canvas: UICanvas = canvas\n  constructor(\n    image: string,\n    xOffset?: number,\n    yOffset?: number,\n    width?: number,\n    height?: number,\n    section?: ImageSection\n  ) {\n    super()\n\n    let texture = new Texture(image)\n\n    this.image = new UIImage(canvas, texture)\n\n    this.image.hAlign = 'right'\n    this.image.vAlign = 'bottom'\n    this.image.positionX = xOffset ? xOffset : 0\n    this.image.positionY = yOffset ? yOffset : 0\n    this.image.width = width ? width : 64\n    this.image.height = height ? height : 64\n    this.image.sourceLeft = section && section.sourceLeft ? section.sourceLeft : 0\n    this.image.sourceTop = section && section.sourceTop ? section.sourceTop : 0\n    this.image.sourceWidth =\n      section && section.sourceWidth ? section.sourceWidth : width ? width : 64\n    this.image.sourceHeight =\n      section && section.sourceHeight ? section.sourceHeight : height ? height : 64\n  }\n\n  /**\n   * Hides the image from view in the screen.\n   */\n  public hide(): void {\n    this.image.visible = false\n  }\n\n  /**\n   * Makes an invisible image visible again.\n   * @param {number} duration Seconds to display the image onscreen. If no value is provided, it stays visible.\n   */\n  public show(duration?: number): void {\n    this.image.visible = true\n\n    if (duration) {\n      let dummyEnty = new Entity()\n      engine.addEntity(dummyEnty)\n\n      dummyEnty.addComponentOrReplace(\n        new UIDelay(duration, () => {\n          this.hide()\n        })\n      )\n    }\n  }\n}\n\n/**\n * Displays an icon of 32x32 on the bottom-left corner\n *\n * @param {string} image path to image file\n * @param {number} xOffset position on X, to enable fitting several counters\n * @param {number} yOffset position on Y, to enable fitting several counters\n * @param {number} width image width\n * @param {number} height image height\n * @param {ImageSection} section cut out a section of the imge, as an object specifying sourceLeft, sourceTop, sourceWidth and sourceHeight\n *\n */\nexport class SmallIcon extends Entity {\n  image: UIImage\n  canvas: UICanvas = canvas\n  constructor(\n    image: string,\n    xOffset?: number,\n    yOffset?: number,\n    width?: number,\n    height?: number,\n    section?: ImageSection\n  ) {\n    super()\n\n    let texture = new Texture(image)\n\n    this.image = new UIImage(canvas, texture)\n\n    this.image.hAlign = 'right'\n    this.image.vAlign = 'bottom'\n    this.image.positionX = xOffset ? xOffset : 0\n    this.image.positionY = yOffset ? yOffset : 0\n    this.image.width = width ? width : 32\n    this.image.height = height ? height : 32\n    this.image.sourceLeft = section && section.sourceLeft ? section.sourceLeft : 0\n    this.image.sourceTop = section && section.sourceTop ? section.sourceTop : 0\n    this.image.sourceWidth = section ? section.sourceWidth : width ? width : 32\n    this.image.sourceHeight = section ? section.sourceHeight : height ? height : 32\n  }\n\n  /**\n   * Hides the image from view in the screen.\n   */\n  public hide(): void {\n    this.image.visible = false\n  }\n\n  /**\n   * Makes an invisible image visible again.\n   * @param {number} duration Seconds to display the image onscreen. If no value is provided, it stays visible.\n   */\n  public show(duration?: number): void {\n    this.image.visible = true\n\n    if (duration) {\n      let dummyEnty = new Entity()\n      engine.addEntity(dummyEnty)\n\n      dummyEnty.addComponentOrReplace(\n        new UIDelay(duration, () => {\n          this.hide()\n        })\n      )\n    }\n  }\n}\n\n/**\n * Displays an icon of 128x128 on the bottom-left corner\n *\n * @param {string} image path to image file\n * @param {number} xOffset position on X, to enable fitting several counters\n * @param {number} yOffset position on Y, to enable fitting several counters\n * @param {number} width image width (128 by default)\n * @param {number} height image height (128 by default)\n * @param {ImageSection} section cut out a section of the imge, as an object specifying sourceLeft, sourceTop, sourceWidth and sourceHeight\n *\n */\nexport class LargeIcon extends Entity {\n  image: UIImage\n  canvas: UICanvas = canvas\n  constructor(\n    image: string,\n    xOffset?: number,\n    yOffset?: number,\n    width?: number,\n    height?: number,\n    section?: ImageSection\n  ) {\n    super()\n\n    let texture = new Texture(image)\n\n    this.image = new UIImage(canvas, texture)\n\n    this.image.hAlign = 'right'\n    this.image.vAlign = 'bottom'\n    this.image.positionX = xOffset ? xOffset : 0\n    this.image.positionY = yOffset ? yOffset : 0\n    this.image.width = width ? width : 128\n    this.image.height = height ? height : 128\n    this.image.sourceLeft = section && section.sourceLeft ? section.sourceLeft : 0\n    this.image.sourceTop = section && section.sourceTop ? section.sourceTop : 0\n    this.image.sourceWidth = section ? section.sourceWidth : width ? width : 128\n    this.image.sourceHeight = section ? section.sourceHeight : height ? height : 128\n  }\n\n  /**\n   * Hides the image from view in the screen.\n   */\n  public hide(): void {\n    this.image.visible = false\n  }\n\n  /**\n   * Makes an invisible image visible again.\n   * @param {number} duration Seconds to display the image onscreen. If no value is provided, it stays visible.\n   */\n  public show(duration?: number): void {\n    this.image.visible = true\n\n    if (duration) {\n      let dummyEnty = new Entity()\n      engine.addEntity(dummyEnty)\n\n      dummyEnty.addComponentOrReplace(\n        new UIDelay(duration, () => {\n          this.hide()\n        })\n      )\n    }\n  }\n}\n\n/**\n * Displays an image of 512x512 on the center of the screen for limited time\n *\n * @param {string} image path to image file\n * @param {number} duration seconds to display the image onscreen. 0 keeps it on till you hide it\n * @param {number} xOffset position on X, to enable fitting several counters\n * @param {number} yOffset position on Y, to enable fitting several counters\n * @param {number} width image width\n * @param {number} height image height\n * @param {ImageSection} section cut out a section of the imge, as an object specifying sourceLeft, sourceTop, sourceWidth and sourceHeight\n * @param {boolean} startHidden if true, image starts invisible to load in the background till it runs its show() function.\n *\n */\nexport class CenterImage extends Entity {\n  image: UIImage\n  canvas: UICanvas = canvas\n  constructor(\n    image: string,\n    duration: number,\n    startHidden?: boolean,\n    xOffset?: number,\n    yOffset?: number,\n    width?: number,\n    height?: number,\n    section?: ImageSection\n  ) {\n    super()\n\n    let texture = new Texture(image)\n\n    this.image = new UIImage(canvas, texture)\n\n    this.image.hAlign = 'center'\n    this.image.vAlign = 'center'\n    this.image.positionX = xOffset ? xOffset : 0\n    this.image.positionY = yOffset ? yOffset : 0\n    this.image.width = width ? width : 512\n    this.image.height = height ? height : 512\n    this.image.sourceLeft = section && section.sourceLeft ? section.sourceLeft : 0\n    this.image.sourceTop = section && section.sourceTop ? section.sourceTop : 0\n    this.image.sourceWidth = section ? section.sourceWidth : width ? width : 512\n    this.image.sourceHeight = section ? section.sourceHeight : height ? height : 512\n\n    this.image.visible = startHidden ? false : true\n\n    if (duration != -1) {\n      let dummyEnty = new Entity()\n      engine.addEntity(dummyEnty)\n\n      dummyEnty.addComponentOrReplace(\n        new UIDelay(duration ? duration : 3, () => {\n          this.hide()\n        })\n      )\n    }\n  }\n\n  /**\n   * Hides the image from view in the screen.\n   */\n  public hide(): void {\n    this.image.visible = false\n  }\n\n  /**\n   * Makes an invisible image visible again.\n   * @param {number} duration Seconds to display the image onscreen. If no value is provided, it stays visible.\n   */\n  public show(duration?: number): void {\n    this.image.visible = true\n\n    if (duration) {\n      let dummyEnty = new Entity()\n      engine.addEntity(dummyEnty)\n\n      dummyEnty.addComponentOrReplace(\n        new UIDelay(duration, () => {\n          this.hide()\n        })\n      )\n    }\n  }\n}\n","import {\n  darkTheme,\n  lightTheme,\n  SFFont,\n  canvas\n} from '../../utils/default-ui-components'\nimport resources, { buttonIconPos, setSection } from '../../utils/resources'\n\n/**\n * Displays a prompt window with a custom string and an OK button\n *\n * @param  {string} instructions: Notification string\n * @param {() => void} onAccept: Function that gets executed if player clicks button\n * @param  {string} acceptLabel: String to go in the accept button\n * @param {boolean} useDarkTheme: Switch to the dark theme\n *\n */\nexport class OkPrompt extends Entity {\n  text: UIText\n  button: UIImage\n  buttonLabel: UIText\n  icon: UIImage\n  closeIcon: UIImage\n  onAccept: null | (() => void)\n  EButtonAction: () => void | Subscription[]\n  UIOpenTime: number\n  canvas: UICanvas = canvas\n  background: UIImage\n  constructor(\n    instructions: string,\n    onAccept?: () => void,\n    acceptLabel?: string,\n    useDarkTheme?: boolean\n  ) {\n    super()\n\n    this.UIOpenTime = +Date.now()\n\n    this.background = new UIImage(canvas, lightTheme)\n    this.background.hAlign = 'center'\n    this.background.vAlign = 'center'\n\n    this.onAccept = onAccept ? onAccept : null\n\n    let uiTheme = useDarkTheme ? darkTheme : lightTheme\n\n    this.background.source = uiTheme\n    this.background.width = 400\n    this.background.height = 250\n    this.background.positionY = 0\n\n    setSection(this.background, resources.backgrounds.promptBackground)\n\n    this.background.visible = true\n\n    this.closeIcon = new UIImage(this.background, uiTheme)\n    this.closeIcon.positionX = 175\n    this.closeIcon.positionY = 100\n    this.closeIcon.width = 32\n    this.closeIcon.height = 32\n    if (useDarkTheme) {\n      setSection(this.closeIcon, resources.icons.closeW)\n    } else {\n      setSection(this.closeIcon, resources.icons.closeD)\n    }\n\n    this.closeIcon.onClick = new OnClick(() => {\n      this.close()\n    })\n\n    this.text = new UIText(this.background)\n\n    this.text.value = instructions //splitTextIntoLines(instructions,30,3)\n\n    this.text.adaptWidth = false\n    this.text.textWrapping = true\n    this.text.width = 380\n\n    this.text.hAlign = 'center'\n    this.text.vAlign = 'top'\n    this.text.positionX = 0\n    this.text.positionY = -65\n    this.text.fontSize = 24\n    this.text.font = SFFont\n    this.text.vTextAlign = 'center'\n    this.text.hTextAlign = 'center'\n    this.text.color = useDarkTheme ? Color4.White() : Color4.Black()\n\n    this.button = new UIImage(this.background, uiTheme)\n    this.button.positionX = 0\n    this.button.positionY = -60\n    this.button.width = 174\n    this.button.height = 46\n    setSection(this.button, resources.buttons.buttonE)\n\n    this.icon = new UIImage(this.button, useDarkTheme == true ? darkTheme : lightTheme)\n    this.icon.width = 26\n    this.icon.height = 26\n    this.icon.hAlign = 'center'\n    this.icon.vAlign = 'center'\n    this.icon.isPointerBlocker = false\n    setSection(this.icon, resources.buttonLabels.E)\n    this.icon.positionX = buttonIconPos(acceptLabel ? acceptLabel.length : 2)\n\n    this.buttonLabel = new UIText(this.button)\n    this.buttonLabel.value = acceptLabel ? acceptLabel : 'Ok'\n    this.buttonLabel.hTextAlign = 'center'\n    this.buttonLabel.vTextAlign = 'center'\n    this.buttonLabel.positionX = 30\n    this.buttonLabel.fontSize = 18\n    this.buttonLabel.font = SFFont\n    this.buttonLabel.color = Color4.White()\n    this.buttonLabel.isPointerBlocker = false\n\n    this.button.onClick = new OnClick(() => {\n      this.accept()\n    })\n\n    this.EButtonAction = Input.instance.subscribe('BUTTON_DOWN', ActionButton.PRIMARY, false, e => {\n      if (this.button.visible && +Date.now() - this.UIOpenTime > 100) {\n        this.accept()\n      }\n    })\n  }\n\n  /**\n   * Hides the prompt from view in the screen.\n   */\n  public close(): void {\n    this.background.visible = false\n    this.closeIcon.visible = false\n    this.button.visible = false\n    this.text.visible = false\n    this.buttonLabel.visible = false\n  }\n\n  /**\n   * Runs the onAccept function, then hides the prompt from view in the screen.\n   */\n  public accept(): void {\n    if (this.onAccept) {\n      this.onAccept()\n    }\n\n    this.hide()\n  }\n\n  /**\n   * Hides the prompt from view in the screen.\n   */\n  public hide(): void {\n    this.background.visible = false\n    this.closeIcon.visible = false\n    this.button.visible = false\n    this.text.visible = false\n    this.buttonLabel.visible = false\n    Input.instance.unsubscribe('BUTTON_DOWN', ActionButton.PRIMARY, this.EButtonAction)\n  }\n\n  /**\n   * Makes an invisible prompt visible again.\n   */\n  public show(): void {\n    this.background.visible = true\n    this.closeIcon.visible = true\n    this.button.visible = true\n    this.text.visible = true\n    this.buttonLabel.visible = true\n    Input.instance.subscribe('BUTTON_DOWN', ActionButton.PRIMARY, false, this.EButtonAction)\n  }\n}\n","import {\n  darkTheme,\n  lightTheme,\n  SFFont,\n  SFHeavyFont,\n  canvas\n} from '../../utils/default-ui-components'\nimport resources, { buttonIconPos, setSection } from '../../utils/resources'\n\n/**\n * Displays a prompt window with two buttons that perform separate actions\n *\n * @param {string} title: Header on dialog\n * @param {string} instructions: Smaller print instructions\n * @param {() => void} onAccept: Function that gets executed if player clicks accept\n * @param {() => void} onReject: Function that gets executed if player clicks reject\n * @param {string} acceptLabel: String to go in the accept button\n * @param {string} rejectLabel: String to go in the reject button\n * @param {boolean} useDarkTheme: Switch to the dark theme\n *\n */\nexport class OptionPrompt extends Entity {\n  title: UIText\n  text: UIText\n  buttonE: UIImage\n  buttonELabel: UIText\n  buttonEIcon: UIImage\n  buttonF: UIImage\n  buttonFLabel: UIText\n  buttonFIcon: UIImage\n  closeIcon: UIImage\n  onAccept: () => void\n  onReject: null | (() => void)\n  EButtonAction: () => void | Subscription[]\n  FButtonAction: () => void | Subscription[]\n  UIOpenTime: number\n  canvas: UICanvas = canvas\n  background: UIImage\n  constructor(\n    title: string,\n    instructions: string,\n    onAccept: () => void,\n    onReject?: () => void,\n    acceptLabel?: string,\n    rejectLabel?: string,\n    useDarkTheme?: boolean\n  ) {\n    super()\n\n    this.UIOpenTime = +Date.now()\n\n    this.background = new UIImage(canvas, lightTheme)\n    this.background.hAlign = 'center'\n    this.background.vAlign = 'center'\n\n    this.onAccept = onAccept\n    this.onReject = onReject ? onReject : null\n\n    let uiTheme = useDarkTheme ? darkTheme : lightTheme\n\n    this.background.source = uiTheme\n    this.background.width = 480\n    this.background.height = 384\n\n    setSection(this.background, resources.backgrounds.promptLargeBackground)\n\n    this.background.visible = true\n\n    this.closeIcon = new UIImage(this.background, uiTheme)\n    this.closeIcon.positionX = 175 + 40\n    this.closeIcon.positionY = 100 + 64\n    this.closeIcon.width = 32\n    this.closeIcon.height = 32\n    if (useDarkTheme) {\n      setSection(this.closeIcon, resources.icons.closeW)\n    } else {\n      setSection(this.closeIcon, resources.icons.closeD)\n    }\n    this.closeIcon.onClick = new OnClick(() => {\n      this.close()\n    })\n\n    this.title = new UIText(this.background)\n\n    this.title.value = title\n\n    this.title.adaptWidth = false\n    this.title.textWrapping = true\n    this.title.width = 380\n\n    this.title.hAlign = 'center'\n    this.title.vAlign = 'top'\n    this.title.positionX = 0\n    this.title.positionY = -20\n    this.title.font = SFHeavyFont\n    this.title.fontSize = 24\n    this.title.vTextAlign = 'center'\n    this.title.hTextAlign = 'center'\n    this.title.color = useDarkTheme ? Color4.White() : Color4.Black()\n\n    this.text = new UIText(this.background)\n\n    this.text.value = instructions\n\n    this.text.adaptWidth = false\n    this.text.textWrapping = true\n    this.text.width = 380\n\n    this.text.hAlign = 'center'\n    this.text.vAlign = 'top'\n    this.text.positionX = 0\n    this.text.positionY = -145\n    this.text.fontSize = 24\n    this.text.font = SFFont\n    this.text.vTextAlign = 'center'\n    this.text.hTextAlign = 'center'\n    this.text.color = useDarkTheme ? Color4.White() : Color4.Black()\n\n    this.buttonE = new UIImage(this.background, uiTheme)\n    this.buttonE.positionX = -100\n    this.buttonE.positionY = -120\n    this.buttonE.width = 174\n    this.buttonE.height = 46\n    setSection(this.buttonE, resources.buttons.buttonE)\n\n    this.buttonEIcon = new UIImage(this.buttonE, useDarkTheme == true ? darkTheme : lightTheme)\n    this.buttonEIcon.width = 26\n    this.buttonEIcon.height = 26\n    this.buttonEIcon.hAlign = 'center'\n    this.buttonEIcon.vAlign = 'center'\n    this.buttonEIcon.isPointerBlocker = false\n    setSection(this.buttonEIcon, resources.buttonLabels.E)\n    this.buttonEIcon.positionX = buttonIconPos(acceptLabel ? acceptLabel.length : 2)\n\n    this.buttonELabel = new UIText(this.buttonE)\n    this.buttonELabel.value = acceptLabel ? acceptLabel : 'Ok'\n    this.buttonELabel.hTextAlign = 'center'\n    this.buttonELabel.vTextAlign = 'center'\n    this.buttonELabel.positionX = 30\n    this.buttonELabel.fontSize = 18\n    this.buttonELabel.font = SFFont\n    this.buttonELabel.color = Color4.White()\n    this.buttonELabel.isPointerBlocker = false\n\n    this.buttonE.onClick = new OnClick(() => {\n      this.accept()\n    })\n\n    this.EButtonAction = Input.instance.subscribe('BUTTON_DOWN', ActionButton.PRIMARY, false, e => {\n      if (this.buttonE.visible && +Date.now() - this.UIOpenTime > 100) {\n        this.accept()\n      }\n    })\n\n    this.buttonF = new UIImage(this.background, uiTheme)\n    this.buttonF.positionX = 100\n    this.buttonF.positionY = -120\n    this.buttonF.width = 174\n    this.buttonF.height = 46\n    setSection(this.buttonF, resources.buttons.buttonF)\n\n    this.buttonFIcon = new UIImage(this.buttonF, useDarkTheme == true ? darkTheme : lightTheme)\n    this.buttonFIcon.width = 26\n    this.buttonFIcon.height = 26\n    this.buttonFIcon.hAlign = 'center'\n    this.buttonFIcon.vAlign = 'center'\n    this.buttonFIcon.isPointerBlocker = false\n    setSection(this.buttonFIcon, resources.buttonLabels.F)\n    this.buttonFIcon.positionX = buttonIconPos(rejectLabel ? rejectLabel.length : 6)\n\n    this.buttonFLabel = new UIText(this.buttonF)\n    this.buttonFLabel.value = rejectLabel ? rejectLabel : 'Cancel'\n    this.buttonFLabel.hTextAlign = 'center'\n    this.buttonFLabel.vTextAlign = 'center'\n    this.buttonFLabel.positionX = 30\n    this.buttonFLabel.fontSize = 18\n    this.buttonFLabel.font = SFFont\n    this.buttonFLabel.color = Color4.White()\n    this.buttonFLabel.isPointerBlocker = false\n\n    this.buttonF.onClick = new OnClick(() => {\n      this.reject()\n    })\n\n    this.FButtonAction = Input.instance.subscribe(\n      'BUTTON_DOWN',\n      ActionButton.SECONDARY,\n      false,\n      e => {\n        if (this.buttonF.visible && +Date.now() - this.UIOpenTime > 100) {\n          this.reject()\n        }\n      }\n    )\n  }\n\n  /**\n   * Hides the prompt from view in the screen.\n   */\n  public close(): void {\n    this.background.visible = false\n    this.closeIcon.visible = false\n    this.buttonE.visible = false\n    this.buttonF.visible = false\n    this.text.visible = false\n    this.buttonELabel.visible = false\n    this.buttonFLabel.visible = false\n    this.title.visible = false\n    //Input.instance.unsubscribe('BUTTON_DOWN', ActionButton.PRIMARY, this.EButtonAction)\n  }\n\n  /**\n   * Runs the onAccept function, then hides the prompt from view in the screen.\n   */\n  public accept(): void {\n    if (this.onAccept) {\n      this.onAccept()\n    }\n\n    this.hide()\n  }\n\n  /**\n   * Runs the onReject function, then hides the prompt from view in the screen.\n   */\n  public reject(): void {\n    if (this.onReject) {\n      this.onReject()\n    }\n\n    this.hide()\n  }\n\n  /**\n   * Hides the prompt from view in the screen.\n   */\n  public hide(): void {\n    this.background.visible = false\n    this.closeIcon.visible = false\n    this.buttonE.visible = false\n    this.buttonF.visible = false\n    this.text.visible = false\n    this.buttonELabel.visible = false\n    this.buttonFLabel.visible = false\n    this.buttonEIcon.visible = false\n    this.buttonFIcon.visible = false\n    Input.instance.unsubscribe('BUTTON_DOWN', ActionButton.PRIMARY, this.EButtonAction)\n    Input.instance.unsubscribe('BUTTON_DOWN', ActionButton.SECONDARY, this.FButtonAction)\n  }\n\n  /**\n   * Makes an invisible prompt visible again.\n   */\n  public show(): void {\n    this.background.visible = true\n    this.closeIcon.visible = true\n    this.buttonE.visible = true\n    this.buttonF.visible = true\n    this.text.visible = true\n    this.buttonELabel.visible = true\n    this.buttonFLabel.visible = true\n    this.buttonEIcon.visible = true\n    this.buttonFIcon.visible = true\n    Input.instance.subscribe('BUTTON_DOWN', ActionButton.PRIMARY, false, this.EButtonAction)\n    Input.instance.subscribe('BUTTON_DOWN', ActionButton.SECONDARY, false, this.FButtonAction)\n  }\n}\n","import {\n  darkTheme,\n  lightTheme,\n  SFFont,\n  SFHeavyFont,\n  canvas\n} from '../../utils/default-ui-components'\nimport resources, { buttonIconPos, setSection } from '../../utils/resources'\n\n/**\n * Displays a prompt window with a field that can be filled in\n *\n * @param  {string} title: Notification string\n * @param {(e:string) => void} onAccept: Function that gets executed if player clicks button\n * @param  {string} acceptLabel: String to go in the accept button\n * @param  {string} placeholder: Text to display as placeholder in the fill in box\n * @param {boolean} useDarkTheme: Switch to the dark theme\n *\n */\nexport class FillInPrompt extends Entity {\n  text: UIText\n  button: UIImage\n  buttonLabel: UIText\n  icon: UIImage\n  closeIcon: UIImage\n  onAccept: (e: string) => void\n  EButtonAction: () => void | Subscription[]\n  fillInBox: UIInputText\n  UIOpenTime: number\n  canvas: UICanvas = canvas\n  background: UIImage\n  constructor(\n    title: string,\n    onAccept: (e: string) => void,\n    acceptLabel?: string,\n    placeholder?: string,\n    useDarkTheme?: boolean\n  ) {\n    super()\n\n    this.UIOpenTime = +Date.now()\n\n    this.background = new UIImage(canvas, lightTheme)\n    this.background.hAlign = 'center'\n    this.background.vAlign = 'center'\n\n    this.onAccept = onAccept\n\n    let uiTheme = useDarkTheme ? darkTheme : lightTheme\n\n    this.background.source = uiTheme\n    this.background.width = 400\n    this.background.height = 250\n\n    setSection(this.background, resources.backgrounds.promptBackground)\n\n    this.background.visible = true\n\n    this.text = new UIText(this.background)\n\n    this.text.value = title //splitTextIntoLines(instructions,30,3)\n\n    this.text.adaptWidth = false\n    this.text.textWrapping = true\n    this.text.width = 320\n\n    this.text.hAlign = 'center'\n    this.text.vAlign = 'top'\n    this.text.positionX = 0\n    this.text.positionY = -20\n    this.text.fontSize = 24\n    this.text.font = SFHeavyFont\n    this.text.vTextAlign = 'center'\n    this.text.hTextAlign = 'center'\n    this.text.color = useDarkTheme ? Color4.White() : Color4.Black()\n\n    this.closeIcon = new UIImage(this.background, uiTheme)\n    this.closeIcon.positionX = 175\n    this.closeIcon.positionY = 100\n    this.closeIcon.width = 32\n    this.closeIcon.height = 32\n    if (useDarkTheme) {\n      setSection(this.closeIcon, resources.icons.closeW)\n    } else {\n      setSection(this.closeIcon, resources.icons.closeD)\n    }\n    this.closeIcon.onClick = new OnClick(() => {\n      this.hide()\n    })\n\n    this.button = new UIImage(this.background, uiTheme)\n    this.button.positionX = 0\n    this.button.positionY = -60\n    this.button.width = 174\n    this.button.height = 46\n    setSection(this.button, resources.buttons.buttonE)\n\n    this.icon = new UIImage(this.button, useDarkTheme == true ? darkTheme : lightTheme)\n    this.icon.width = 26\n    this.icon.height = 26\n    this.icon.hAlign = 'center'\n    this.icon.vAlign = 'center'\n    this.icon.isPointerBlocker = false\n    setSection(this.icon, resources.buttonLabels.E)\n    this.icon.positionX = buttonIconPos(acceptLabel ? acceptLabel.length : 6)\n\n    this.buttonLabel = new UIText(this.button)\n    this.buttonLabel.value = acceptLabel ? acceptLabel : 'Submit'\n    this.buttonLabel.hTextAlign = 'center'\n    this.buttonLabel.vTextAlign = 'center'\n    this.buttonLabel.positionX = 30\n    this.buttonLabel.fontSize = 18\n    this.buttonLabel.font = SFFont\n    this.buttonLabel.color = Color4.White()\n    this.buttonLabel.isPointerBlocker = false\n\n    this.fillInBox = new UIInputText(this.background)\n    this.fillInBox.color = Color4.Black()\n    this.fillInBox.font = SFFont\n    this.fillInBox.width = 312\n    this.fillInBox.height = 46\n    this.fillInBox.positionX = 0\n    this.fillInBox.positionY = 15\n    this.fillInBox.placeholder = placeholder ? placeholder : 'Fill in'\n    this.fillInBox.hTextAlign = 'center'\n    this.fillInBox.vTextAlign = 'center'\n    this.fillInBox.fontSize = 22\n\n    let submittedText: string = ''\n\n    this.fillInBox.onChanged = new OnChanged(x => {\n      submittedText = x.value\n    })\n\n    this.fillInBox.onTextSubmit = new OnTextSubmit(x => {\n      //submittedText = x.text\n      this.accept(submittedText)\n    })\n\n    this.button.onClick = new OnClick(() => {\n      this.accept(submittedText)\n    })\n\n    this.EButtonAction = Input.instance.subscribe('BUTTON_DOWN', ActionButton.PRIMARY, false, e => {\n      if (this.button.visible && +Date.now() - this.UIOpenTime > 100) {\n        this.accept(submittedText)\n      }\n    })\n  }\n\n  /**\n   * Hides the prompt from view in the screen.\n   */\n  public close(): void {\n    this.background.visible = false\n    this.closeIcon.visible = false\n    this.button.visible = false\n    this.text.visible = false\n    this.buttonLabel.visible = false\n    this.fillInBox.visible = false\n  }\n\n  /**\n   * Hides the prompt, but first reads the provided value and runs the onAccept function with it\n   */\n  public accept(submittedText: string): void {\n    this.onAccept(submittedText)\n\n    this.hide()\n    //Input.instance.unsubscribe('BUTTON_DOWN', ActionButton.PRIMARY, this.EButtonAction)\n  }\n\n  /**\n   * Hides the prompt from view in the screen.\n   */\n  public hide(): void {\n    this.background.visible = false\n    this.closeIcon.visible = false\n    this.button.visible = false\n    this.text.visible = false\n    this.buttonLabel.visible = false\n    this.fillInBox.visible = false\n    Input.instance.unsubscribe('BUTTON_DOWN', ActionButton.PRIMARY, this.EButtonAction)\n  }\n\n  /**\n   * Makes an invisible prompt visible again.\n   */\n  public show(): void {\n    this.background.visible = true\n    this.closeIcon.visible = true\n    this.button.visible = true\n    this.text.visible = true\n    this.buttonLabel.visible = true\n    this.fillInBox.visible = true\n    Input.instance.subscribe('BUTTON_DOWN', ActionButton.PRIMARY, false, this.EButtonAction)\n  }\n}\n","import resources, { setSection, buttonIconPos } from '../../utils/resources'\nimport {\n  darkTheme,\n  lightTheme,\n  promptBackground,\n  SFFont,\n  canvas\n} from '../../utils/default-ui-components'\nimport { PromptStyles, ButtonStyles, SwitchStyles, ImageSection } from '../../utils/types'\n\n/**\n * Creates a prompt object that includes a background and a close icon, and supports adding as many custom UI elements as desired\n *\n * @param {PromptStyles| string} style: Pick from a few predefined options of color, shape and size, or provide the string path to a custom image\n * @param {number} width Background width\n * @param {number} height Background height\n * @param {boolean} startHidden If true, prompt starts invisible to load in the background till calling the `show()` function of the prompt object.\n */\nexport class CustomPrompt extends Entity {\n  elements: (\n    | CustomPromptText\n    | CustomPromptIcon\n    | CustomPromptSwitch\n    | CustomPromptCheckBox\n    | CustomPromptButton\n    | CustomPromptTextBox\n  )[] = []\n  texture: Texture = lightTheme\n  darkTheme: boolean = false\n  background: UIImage\n  closeIcon: UIImage\n  UIOpenTime: number = 0\n  canvas: UICanvas = canvas\n\n  constructor(\n    style?: PromptStyles | string,\n    width?: number,\n    height?: number,\n    startHidden?: boolean\n  ) {\n    super()\n\n    this.UIOpenTime = +Date.now()\n\n    this.background = new UIImage(canvas, lightTheme)\n    this.background.hAlign = 'center'\n    this.background.vAlign = 'center'\n\n    this.closeIcon = new UIImage(this.background, this.texture)\n\n    if (!style) {\n      style = PromptStyles.LIGHT\n    }\n\n    switch (style) {\n      case PromptStyles.LIGHT:\n        this.texture = lightTheme\n        setSection(this.background, resources.backgrounds.promptBackground)\n        setSection(this.closeIcon, resources.icons.closeD)\n        this.closeIcon.positionX = width ? width / 2 - 25 : 175\n        this.closeIcon.positionY = height ? height / 2 - 25 : 145\n        break\n      case PromptStyles.DARK:\n        this.texture = darkTheme\n        this.darkTheme = true\n        setSection(this.background, resources.backgrounds.promptBackground)\n        setSection(this.closeIcon, resources.icons.closeW)\n        this.closeIcon.positionX = width ? width / 2 - 25 : 175\n        this.closeIcon.positionY = height ? height / 2 - 25 : 145\n        break\n      case PromptStyles.LIGHTLARGE:\n        this.texture = lightTheme\n        setSection(this.background, resources.backgrounds.promptLargeBackground)\n        setSection(this.closeIcon, resources.icons.closeD)\n        this.closeIcon.positionX = width ? width / 2 - 25 : 175 + 40\n        this.closeIcon.positionY = height ? height / 2 - 25 : 145 + 20\n        break\n      case PromptStyles.DARKLARGE:\n        this.texture = darkTheme\n        this.darkTheme = true\n        setSection(this.background, resources.backgrounds.promptLargeBackground)\n        setSection(this.closeIcon, resources.icons.closeW)\n        this.closeIcon.positionX = width ? width / 2 - 25 : 175 + 40\n        this.closeIcon.positionY = height ? height / 2 - 25 : 145 + 20\n        break\n      case PromptStyles.LIGHTSLANTED:\n        this.texture = lightTheme\n        setSection(this.background, resources.backgrounds.promptSlantedBackground)\n        setSection(this.closeIcon, resources.icons.closeD)\n        this.closeIcon.positionX = width ? width / 2 - 25 : 175 + 40\n        this.closeIcon.positionY = height ? height / 2 - 25 : 100 + 38\n        break\n\n      case PromptStyles.DARKSLANTED:\n        this.texture = darkTheme\n        this.darkTheme = true\n        setSection(this.background, resources.backgrounds.promptSlantedBackground)\n        setSection(this.closeIcon, resources.icons.closeW)\n        this.closeIcon.positionX = width ? width / 2 - 25 : 175 + 40\n        this.closeIcon.positionY = height ? height / 2 - 25 : 100 + 38\n        break\n      default:\n        this.texture = new Texture(style)\n        this.closeIcon.visible = false\n    }\n    this.background.source = this.texture\n\n    this.background.width = width ? width : this.background.sourceWidth\n    this.background.height = height ? height : this.background.sourceHeight\n    this.background.visible = true\n\n    this.closeIcon.width = 32\n    this.closeIcon.height = 32\n    this.closeIcon.source = this.texture\n\n    this.closeIcon.onClick = new OnClick(() => {\n      this.hide()\n    })\n\n    if (startHidden) {\n      this.hide()\n    }\n  }\n\n  /**\n   * Hides the prompt from view in the screen.\n   */\n  public hide(): void {\n    this.background.visible = false\n    this.closeIcon.visible = false\n\n    for (let element of this.elements) {\n      element.hide()\n    }\n  }\n  /**\n   * Makes an invisible prompt visible again.\n   */\n  public show(): void {\n    this.background.visible = true\n    this.closeIcon.visible = true\n\n    for (let element of this.elements) {\n      element.show()\n    }\n  }\n\n  /**\n   * Adds a text UI element to the custom prompt\n   * @param {string} value Text to display\n   * @param {number} [posX=0] Position on X on the prompt, counting from the center of the prompt\n   * @param {number} [posY=0] Position on Y on the prompt, counting from the center of the prompt\n   * @param {Color4} color Color of the text. By default black over light themes and white over dark themes\n   * @param {number} size Font size\n   */\n  public addText(value: string, posX: number, posY: number, color?: Color4, size?: number) {\n    let text = new CustomPromptText(\n      this,\n      value,\n      posX,\n      posY,\n      this.darkTheme,\n      color ? color : undefined,\n      size ? size : undefined\n    )\n\n    this.elements.push(text)\n    return text\n  }\n\n  /**\n   * Adds a button UI element to the custom prompt\n   * @param {string} label Text to display as a label\n   * @param {number} [posX=0] Position on X on the prompt, counting from the center of the prompt\n   * @param {number} [posY=0] Position on Y on the prompt, counting from the center of the prompt\n   * @param {() => void} onClick Function to call every time the button is clicked\n   * @param {ButtonStyles} style Appearance of the button, selecting from several predefined options for different colors and shapes\n   */\n  public addButton(\n    label: string,\n    posX: number,\n    posY: number,\n    onClick: () => void,\n    style?: ButtonStyles\n  ) {\n    let button = new CustomPromptButton(\n      this,\n      this.texture,\n      this.UIOpenTime,\n      label,\n      posX,\n      posY,\n      onClick,\n      style ? style : undefined\n    )\n\n    this.elements.push(button)\n    return button\n  }\n\n  /**\n   * Adds a checkbox UI element to the custom prompt\n   * @param {string} label Text to display on the right of the box\n   * @param {number} [posX=0] Position on X on the prompt, counting from the center of the prompt\n   * @param {number} [posY=0] Position on Y on the prompt, counting from the center of the prompt\n   * @param {() => void} onCheck Function to call every time the box is checked\n   * @param {() => void} onUncheck Function to call every time the box is unchecked\n   * @param {ButtonStyles} style Appearance of the button, selecting from several predefined options for different colors and shapes\n   * @param {boolean} large Makes the checkbox significantly larger\n   * @param {boolean} startChecked Starts the checkbox in a default state of already checked\n   */\n  public addCheckbox(\n    label: string,\n    posX: number,\n    posY: number,\n    onCheck?: () => void,\n    onUncheck?: () => void,\n    large?: boolean,\n    startChecked?: boolean\n  ) {\n    let checkBox = new CustomPromptCheckBox(\n      this,\n      this.texture,\n      this.darkTheme,\n      label,\n      posX,\n      posY,\n      onCheck ? onCheck : undefined,\n      onUncheck ? onUncheck : undefined,\n      large ? large : undefined,\n      startChecked ? startChecked : undefined\n    )\n\n    this.elements.push(checkBox)\n    return checkBox\n  }\n\n  /**\n   * Adds a switch UI element to the custom prompt\n   * @param {string} label Text to display on the right of the switch\n   * @param {number} [posX=0] Position on X on the prompt, counting from the center of the prompt\n   * @param {number} [posY=0] Position on Y on the prompt, counting from the center of the prompt\n   * @param {() => void} onCheck Function to call every time the switch is activated\n   * @param {() => void} onUncheck Function to call every time the switch is deactivated\n   * @param {SwitchStyles} style Appearance of the switch, selecting from several predefined options for different colors and shapes\n   * @param {boolean} startChecked Starts the switch in a default state of already activated\n   */\n  public addSwitch(\n    label: string,\n    posX: number,\n    posY: number,\n    onCheck?: () => void,\n    onUncheck?: () => void,\n    style?: SwitchStyles,\n    startChecked?: boolean\n  ) {\n    let uiswitch = new CustomPromptSwitch(\n      this,\n      this.texture,\n      this.darkTheme,\n      label,\n      posX,\n      posY,\n      onCheck ? onCheck : undefined,\n      onUncheck ? onUncheck : undefined,\n      style ? style : undefined,\n      startChecked ? startChecked : undefined\n    )\n\n    this.elements.push(uiswitch)\n    return uiswitch\n  }\n\n  /**\n   * Adds a switch UI element to the custom prompt\n   * @param {string} image Path to the image file\n   * @param {number} [xOffset=0] Position on X on the prompt, counting from the center of the prompt\n   * @param {number} [yOffset=0] Position on Y on the prompt, counting from the center of the prompt\n   * @param {number} [width=0] Width of the image\n   * @param {number} [height=0] Height of the image\n   * @param {ImageSection} section ImageSection object to specify a specific region of the image file\n   */\n  public addIcon(\n    image: string,\n    xOffset: number,\n    yOffset: number,\n    width?: number,\n    height?: number,\n    section?: ImageSection\n  ) {\n    let iconTexture = new Texture(image)\n\n    let icon = new CustomPromptIcon(\n      this,\n      iconTexture,\n      xOffset,\n      yOffset,\n      width ? width : undefined,\n      height ? height : undefined,\n      section ? section : undefined\n    )\n\n    this.elements.push(icon)\n    return icon\n  }\n\n  /**\n   * Adds a textbox UI element to the custom prompt, for the player to fill in an input value\n   * @param {number} [posX=0] Position on X on the prompt, counting from the center of the prompt\n   * @param {number} [posY=0] Position on Y on the prompt, counting from the center of the prompt\n   * @param {string} placeholder Default string to display in the box\n   * @param {e: string => void} onChange Function to call every time the value in the text box is modified by the player\n   */\n  public addTextBox(\n    posX: number,\n    posY: number,\n    placeholder?: string,\n    onChange?: (e: string) => void\n  ) {\n    let texBox = new CustomPromptTextBox(\n      this,\n      posX,\n      posY,\n      placeholder ? placeholder : undefined,\n      onChange ? onChange : undefined\n    )\n\n    this.elements.push(texBox)\n    return texBox\n  }\n}\n\n/**\n * A button UI element to use in a custom prompt\n */\nexport class CustomPromptButton extends Entity {\n  label: UIText\n  image: UIImage\n  icon: UIImage | null = null\n  constructor(\n    parent: CustomPrompt,\n    texture: Texture,\n    UIOpenTime: number,\n    label: string,\n    posX: number,\n    posY: number,\n    onClick: () => void,\n    style?: ButtonStyles\n  ) {\n    super()\n    this.image = new UIImage(parent.background, texture)\n    this.image.positionX = posX\n    this.image.positionY = posY\n    this.image.width = 174\n    this.image.height = 46\n\n    this.label = new UIText(this.image)\n\n    if (style) {\n      switch (style) {\n        case ButtonStyles.E:\n          setSection(this.image, resources.buttons.buttonE)\n          this.label.positionX = 25\n          this.icon = new UIImage(this.image, texture)\n          this.icon.width = 26\n          this.icon.height = 26\n          this.icon.hAlign = 'center'\n          this.icon.vAlign = 'center'\n          this.icon.isPointerBlocker = false\n          setSection(this.icon, resources.buttonLabels.E)\n          this.icon.positionX = buttonIconPos(label.length)\n          break\n        case ButtonStyles.F:\n          setSection(this.image, resources.buttons.buttonF)\n          this.label.positionX = 25\n          this.icon = new UIImage(this.image, texture)\n          this.icon.width = 26\n          this.icon.height = 26\n          this.icon.hAlign = 'center'\n          this.icon.vAlign = 'center'\n          this.icon.isPointerBlocker = false\n          setSection(this.icon, resources.buttonLabels.F)\n          this.icon.positionX = buttonIconPos(label.length)\n          break\n        case ButtonStyles.RED:\n          setSection(this.image, resources.buttons.buttonRed)\n          break\n        case ButtonStyles.DARK:\n          setSection(this.image, resources.buttons.buttonDark)\n          break\n        case ButtonStyles.ROUNDBLACK:\n          setSection(this.image, resources.buttons.roundBlack)\n          break\n        case ButtonStyles.ROUNDWHITE:\n          setSection(this.image, resources.buttons.roundWhite)\n          break\n        case ButtonStyles.ROUNDSILVER:\n          setSection(this.image, resources.buttons.roundSilver)\n          break\n        case ButtonStyles.ROUNDGOLD:\n          setSection(this.image, resources.buttons.roundGold)\n          break\n        case ButtonStyles.SQUAREBLACK:\n          setSection(this.image, resources.buttons.squareBlack)\n          break\n        case ButtonStyles.SQUAREWHITE:\n          setSection(this.image, resources.buttons.squareWhite)\n          break\n        case ButtonStyles.SQUARESILVER:\n          setSection(this.image, resources.buttons.squareSilver)\n          break\n        case ButtonStyles.SQUAREGOLD:\n          setSection(this.image, resources.buttons.squareGold)\n          break\n        default:\n          setSection(this.image, resources.buttons.roundSilver)\n      }\n    } else {\n      setSection(this.image, resources.buttons.roundSilver)\n    }\n\n    this.label.value = label\n    this.label.hTextAlign = 'center'\n    this.label.vTextAlign = 'center'\n    this.label.fontSize = 20\n    this.label.font = SFFont\n    this.label.color =\n      style == ButtonStyles.ROUNDWHITE || style == ButtonStyles.SQUAREWHITE\n        ? Color4.Black()\n        : Color4.White()\n    this.label.isPointerBlocker = false\n\n    this.image.onClick = new OnClick(() => {\n      onClick()\n    })\n\n    if (style == ButtonStyles.E) {\n      Input.instance.subscribe('BUTTON_DOWN', ActionButton.PRIMARY, false, e => {\n        if (this.image.visible && +Date.now() - UIOpenTime > 100) {\n          onClick()\n        }\n      })\n    } else if (style == ButtonStyles.F) {\n      Input.instance.subscribe('BUTTON_DOWN', ActionButton.SECONDARY, false, e => {\n        if (this.image.visible && +Date.now() - UIOpenTime > 100) {\n          onClick()\n        }\n      })\n    }\n  }\n\n  /**\n   * Hides the item from view in the screen. It can't be clicked while invisible.\n   */\n  public hide(): void {\n    this.image.visible = false\n  }\n\n  /**\n   * Makes an invisible item visible again.\n   */\n  public show(): void {\n    this.image.visible = true\n  }\n\n  /**\n   * Grays out the item so it can't be clicked.\n   */\n  public grayOut(): void {\n    this.label.color = Color4.Gray()\n    this.image.isPointerBlocker = false\n    if (this.icon) {\n      this.icon.visible = false\n    }\n  }\n\n  /**\n   * The opposite action of graying out, so it can't be clicked again.\n   */\n  public enable(): void {\n    this.label.color = Color4.White()\n    this.image.isPointerBlocker = true\n    if (this.icon) {\n      this.icon.visible = true\n    }\n  }\n}\n\n/**\n * A checkbox UI element to use in a custom prompt\n */\nexport class CustomPromptCheckBox extends Entity {\n  label: UIText\n  image: UIImage\n  checked: boolean\n  private darkTheme: boolean\n  private large: boolean\n  constructor(\n    parent: CustomPrompt,\n    texture: Texture,\n    darkTheme: boolean,\n    label: string,\n    posX: number,\n    posY: number,\n    onCheck?: () => void,\n    onUncheck?: () => void,\n    large?: boolean,\n    startChecked?: boolean\n  ) {\n    super()\n\n    this.checked = startChecked ? true : false\n    this.darkTheme = darkTheme\n    this.large = large ? large : false\n\n    this.image = new UIImage(parent.background, texture)\n    this.image.positionX = posX\n    this.image.positionY = posY\n    this.image.width = large ? 32 : 24\n    this.image.height = large ? 32 : 24\n\n    if (this.checked == false) {\n      this.uncheck()\n    } else {\n      this.check()\n    }\n\n    this.label = new UIText(this.image)\n\n    this.label.positionX = large ? 40 : 30\n\n    this.label.color = darkTheme ? Color4.White() : Color4.Black()\n\n    this.label.value = label\n    this.label.hTextAlign = 'left'\n    this.label.vTextAlign = 'center'\n    this.label.fontSize = 20\n    this.label.font = SFFont\n    this.label.isPointerBlocker = false\n\n    this.image.onClick = new OnClick(() => {\n      //this.checked = !this.checked\n      if (this.checked == false) {\n        this.check()\n      } else {\n        this.uncheck()\n      }\n\n      this.checked ? (onCheck ? onCheck() : null) : onUncheck ? onUncheck() : null\n    })\n  }\n\n  /**\n   * Hides the item from view in the screen. It can't be clicked while invisible.\n   */\n  public hide(): void {\n    this.image.visible = false\n    this.label.visible = false\n  }\n\n  /**\n   * Makes an invisible item visible again.\n   */\n  public show(): void {\n    this.image.visible = true\n    this.label.visible = true\n  }\n\n  /**\n   * Sets the box state to checked.\n   */\n  public uncheck(): void {\n    this.checked = false\n    if (this.darkTheme) {\n      if (this.large) {\n        setSection(this.image, resources.checkboxes.wLargeOff)\n      } else {\n        setSection(this.image, resources.checkboxes.wOff)\n      }\n    } else {\n      if (this.large) {\n        setSection(this.image, resources.checkboxes.dLargeOff)\n      } else {\n        setSection(this.image, resources.checkboxes.dOff)\n      }\n    }\n  }\n\n  /**\n   * Sets the box state to unchecked.\n   */\n  public check(): void {\n    this.checked = true\n    if (this.darkTheme) {\n      if (this.large) {\n        setSection(this.image, resources.checkboxes.wLargeOn)\n      } else {\n        setSection(this.image, resources.checkboxes.wOn)\n      }\n    } else {\n      if (this.large) {\n        setSection(this.image, resources.checkboxes.dLargeOn)\n      } else {\n        setSection(this.image, resources.checkboxes.dOn)\n      }\n    }\n  }\n}\n\n/**\n * A switch UI element to use in a custom prompt\n */\nexport class CustomPromptSwitch extends Entity {\n  label: UIText\n  image: UIImage\n  checked: boolean\n  private darkTheme: boolean\n  private style: SwitchStyles\n  constructor(\n    parent: CustomPrompt,\n    texture: Texture,\n    darkTheme: boolean,\n    label: string,\n    posX: number,\n    posY: number,\n    onCheck?: () => void,\n    onUncheck?: () => void,\n    style?: SwitchStyles,\n    startChecked?: boolean\n  ) {\n    super()\n\n    this.checked = startChecked ? true : false\n    this.darkTheme = darkTheme\n    this.style = style ? style : SwitchStyles.ROUNDGREEN\n\n    this.image = new UIImage(parent.background, texture)\n    this.image.positionX = posX\n    this.image.positionY = posY\n    this.image.width = 64\n    this.image.height = 32\n\n    if (this.checked == false) {\n      this.check()\n    } else {\n      this.uncheck()\n    }\n\n    this.label = new UIText(this.image)\n\n    this.label.positionX = 80\n\n    this.label.color = darkTheme ? Color4.White() : Color4.Black()\n\n    this.label.value = label\n    this.label.hTextAlign = 'left'\n    this.label.vTextAlign = 'center'\n    this.label.fontSize = 20\n    this.label.font = SFFont\n    this.label.isPointerBlocker = false\n\n    this.image.onClick = new OnClick(() => {\n      //this.checked = !this.checked\n      if (this.checked == false) {\n        this.check()\n      } else {\n        this.uncheck()\n      }\n\n      this.checked ? (onCheck ? onCheck() : null) : onUncheck ? onUncheck() : null\n    })\n  }\n\n  /**\n   * Hides the item from view in the screen. It can't be clicked while invisible.\n   */\n  public hide(): void {\n    this.image.visible = false\n    this.label.visible = false\n  }\n\n  /**\n   * Makes an invisible item visible again.\n   */\n  public show(): void {\n    this.image.visible = true\n    this.label.visible = true\n  }\n\n  /**\n   * Sets the switch state to activated.\n   */\n  public check(): void {\n    this.checked = true\n    switch (this.style) {\n      case SwitchStyles.ROUNDGREEN:\n        setSection(this.image, resources.switches.roundGreen)\n        break\n      case SwitchStyles.ROUNDRED:\n        setSection(this.image, resources.switches.roundRed)\n        break\n      case SwitchStyles.SQUAREGREEN:\n        setSection(this.image, resources.switches.squareGreen)\n        break\n      case SwitchStyles.SQUARERED:\n        setSection(this.image, resources.switches.squareRed)\n        break\n    }\n  }\n\n  /**\n   * Sets the switch state to deactivated.\n   */\n  public uncheck(): void {\n    this.checked = false\n    if (this.style == SwitchStyles.ROUNDGREEN || this.style == SwitchStyles.ROUNDRED) {\n      setSection(this.image, resources.switches.roundOff)\n    } else {\n      setSection(this.image, resources.switches.squareOff)\n    }\n  }\n}\n\n/**\n * An icon UI element to use in a custom prompt, by default 128x128 pixels.\n */\nexport class CustomPromptIcon extends Entity {\n  image: UIImage\n  constructor(\n    parent: CustomPrompt,\n    texture: Texture,\n    xOffset: number,\n    yOffset: number,\n    width?: number,\n    height?: number,\n    section?: ImageSection\n  ) {\n    super()\n\n    this.image = new UIImage(parent.background, texture)\n\n    this.image.positionX = xOffset\n    this.image.positionY = yOffset\n    this.image.width = width ? width : 128\n    this.image.height = height ? height : 128\n    this.image.sourceLeft = section && section.sourceLeft ? section.sourceLeft : 0\n    this.image.sourceTop = section && section.sourceTop ? section.sourceTop : 0\n    this.image.sourceWidth =\n      section && section.sourceWidth ? section.sourceWidth : width ? width : 128\n    this.image.sourceHeight =\n      section && section.sourceHeight ? section.sourceHeight : height ? height : 128\n  }\n\n  /**\n   * Hides the item from view in the screen.\n   */\n  public hide(): void {\n    this.image.visible = false\n  }\n\n  /**\n   * Makes an invisible item visible again.\n   */\n  public show(): void {\n    this.image.visible = true\n  }\n}\n\n/**\n * A text UI element to use in a custom prompt\n */\nexport class CustomPromptText extends Entity {\n  text: UIText\n  constructor(\n    parent: CustomPrompt,\n    value: string,\n    posX: number,\n    posY: number,\n    darkTheme?: boolean,\n    color?: Color4,\n    size?: number\n  ) {\n    super()\n\n    this.text = new UIText(parent.background)\n    this.text.value = value\n    this.text.positionX = posX ? posX : 0\n    this.text.positionY = posY ? posY : 0\n    this.text.hTextAlign = 'center'\n    this.text.color = color ? color : darkTheme ? Color4.White() : Color4.Black()\n    this.text.fontSize = size ? size : 15\n  }\n\n  /**\n   * Hides the item from view in the screen.\n   */\n  public hide(): void {\n    this.text.visible = false\n  }\n\n  /**\n   * Makes an invisible item visible again.\n   */\n  public show(): void {\n    this.text.visible = true\n  }\n}\n\n/**\n * A textbox UI element to use in a custom prompt\n */\nexport class CustomPromptTextBox extends Entity {\n  fillInBox: UIInputText\n  currentText: string = ''\n  constructor(\n    parent: CustomPrompt,\n    posX: number,\n    posY: number,\n    placeholder?: string,\n    onChange?: (e: string) => void\n  ) {\n    super()\n\n    this.fillInBox = new UIInputText(parent.background)\n    this.fillInBox.color = Color4.Black()\n    this.fillInBox.font = SFFont\n    this.fillInBox.width = 312\n    this.fillInBox.height = 46\n    this.fillInBox.positionX = posX\n    this.fillInBox.positionY = posY\n    this.fillInBox.placeholder = placeholder ? placeholder : 'Fill in'\n    this.fillInBox.hTextAlign = 'center'\n    this.fillInBox.vTextAlign = 'center'\n    this.fillInBox.fontSize = 22\n\n    this.fillInBox.onChanged = new OnChanged(x => {\n      if (this.fillInBox && !this.fillInBox.visible) return\n      this.currentText = x.value\n      if (onChange) {\n        onChange(this.currentText)\n      }\n    })\n\n    this.fillInBox.onTextSubmit = new OnTextSubmit(x => {\n      if (this.fillInBox && !this.fillInBox.visible) return\n      this.currentText = x.text\n      if (onChange) {\n        onChange(this.currentText)\n      }\n    })\n  }\n\n  /**\n   * Hides the item from view in the screen. It can't be clicked while invisible.\n   */\n  public hide(): void {\n    this.fillInBox.visible = false\n  }\n\n  /**\n   * Makes an invisible item visible again.\n   */\n  public show(): void {\n    this.fillInBox.visible = true\n  }\n}\n","import { canvas, SFFont } from '../utils/default-ui-components'\n\n/**\n * Displays a number on the center of the UI\n *\n * @param {string} value string value\n * @param {number} [xOffset=0] position on X, to enable fitting several UI elements\n * @param {number} [yOffset=0] position on Y, to enable fitting several UI elements\n * @param {Color4} [color Color4.White()] text color\n * @param {number} [size=25] text size\n * @param {boolean} bordersOff if true, text won't have a black margin around it\n *\n */\nexport class CornerLabel extends Entity {\n  uiText: UIText\n  canvas: UICanvas = canvas\n  constructor(\n    value: string,\n    xOffset?: number,\n    yOffset?: number,\n    color?: Color4,\n    size?: number,\n    bordersOff?: boolean\n  ) {\n    super()\n    this.uiText = new UIText(canvas)\n\n    this.uiText.value = value\n\n    this.uiText.hAlign = 'right'\n    this.uiText.vAlign = 'bottom'\n    this.uiText.positionX = xOffset ? xOffset : 0\n    this.uiText.positionY = yOffset ? yOffset : 0\n    this.uiText.fontSize = size ? size : 25\n    this.uiText.font = SFFont\n    this.uiText.vTextAlign = 'center'\n    this.uiText.hTextAlign = 'center'\n    this.uiText.color = color ? color : Color4.White()\n\n    this.uiText.outlineColor = Color4.Black()\n    this.uiText.outlineWidth = bordersOff ? 0 : 0.1\n  }\n\n  /**\n   * Hides the label from view in the screen. Its values can still be changed and read while hidden.\n   */\n  public hide(): void {\n    this.uiText.visible = false\n  }\n\n  /**\n   * Makes an label counter visible again.\n   */\n  public show(): void {\n    this.uiText.visible = true\n  }\n\n  /**\n   * Sets the label's value to a new string.\n   *\n   * @param {string} newString New value for the label\n   *\n   */\n  public set(newString: string): void {\n    this.uiText.value = newString\n    this.uiText.visible = true\n  }\n}\n","import { lightTheme, canvas } from '../utils/default-ui-components'\nimport { UIDelay } from '../utils/timerComponents'\nimport resources, { setSection } from '../utils/resources'\n\n/**\n * Displays a loading icon on the center of the screen\n * @param {number} [duration=3] Seconds to display the image onscreen. 0 keeps it on till you hide it manually\n * @param {number} [xOffset=0] Position on X, to enable fitting several counters\n * @param {number} [yOffset=0] Position on Y, to enable fitting several counters\n * @param {number} [scale=1] Multiplier for the size of the bar. 1 = 48 x 64\n *\n */\nexport class LoadingIcon extends Entity {\n  image: UIImage\n  canvas: UICanvas = canvas\n  constructor(duration?: number, xOffset?: number, yOffset?: number, scale?: number) {\n    super()\n\n    this.image = new UIImage(canvas, lightTheme)\n\n    this.image.hAlign = 'center'\n    this.image.vAlign = 'center'\n    this.image.positionX = xOffset ? xOffset : 0\n    this.image.positionY = yOffset ? yOffset + 80 : 80\n    this.image.width = scale ? scale * 48 : 48\n    this.image.height = scale ? scale * 64 : 64\n    setSection(this.image, resources.icons.TimerLarge)\n\n    // TODO: IMAGE NOT GOING AWAY\n    if (duration && duration != 0) {\n      let dummyEnty = new Entity()\n      engine.addEntity(dummyEnty)\n\n      dummyEnty.addComponentOrReplace(\n        new UIDelay(duration ? duration : 3, () => {\n          this.hide()\n        })\n      )\n    }\n  }\n\n  /**\n   * Hides the image from view in the screen.\n   *\n   */\n  public hide(): void {\n    this.image.visible = false\n  }\n\n  /**\n   * Makes an invisible image visible again.\n   *\n   */\n  public show(): void {\n    this.image.visible = true\n  }\n}\n","function isObject(item: any) {\n  return (item && typeof item === 'object' && !Array.isArray(item));\n}\n\nexport function deepMerge<T extends Record<string, any>>(target: T, source: RecursivePartial<T>): T {\n  let output = { ...target };\n  if (isObject(target) && isObject(source)) {\n    Object.keys(source).forEach((key: keyof T) => {\n      if (isObject(source[key])) {\n        if (!(key in target)){\n          output = { ...output, [key]: source[key] };\n        } else {\n          // @ts-ignore\n          output[key] = deepMerge(target[key], source[key]);\n        }\n      } else {\n        output = { ...output, [key]: source[key] };\n      }\n    });\n  }\n  return output;\n}\n\nexport type RecursivePartial<T> = {\n  [P in keyof T]?:\n    T[P] extends Color4 ? T[P] :\n    T[P] extends (infer U)[] ? RecursivePartial<U>[] :\n    T[P] extends object ? RecursivePartial<T[P]> :\n    T[P];\n};","export abstract class UIBase<T extends UIShape> {\n\n    constructor(public readonly shape: T, initialProperties?: InitialUIProperties<T>) {\n        if (initialProperties) {\n            this.setProperties(initialProperties)\n        }\n    }\n\n    protected setProperties(prop: Partial<T>) {\n        for (const propName of Object.keys(prop)) {\n            // @ts-ignore\n            this.shape[propName] = prop[propName]\n        }\n    }\n\n    protected getProperty<K extends keyof T>(propName: K): T[K] {\n        return this.shape[propName]\n    }\n}\n\nexport type InitialUIProperties<T extends UIShape> = Partial<T>","import { InitialUIProperties, UIBase } from './commons/UIBase'\n\n/**\n * This is a UIInputText, but wrapped on a simpler interface\n */\nexport class UIPoweredInputText extends UIBase<UIInputText> {\n  private static readonly DEFAULT_WAIT_TIME = 650\n  private readonly placeholder: string\n  private inputValue: string = ''\n  private isInputFocused: boolean = false\n\n  constructor(parent: UIShape, initialProperties: InitialProperties) {\n    super(new UIInputText(parent), {\n      ...initialProperties,\n      placeholder: initialProperties?.placeholder ?? initialProperties?.value,\n      onFocus: new OnFocus(() => {\n        this.isInputFocused = true\n        initialProperties?.onFocus?.()\n      }),\n      onBlur: new OnBlur(() => {\n        this.isInputFocused = false\n        if (this.inputValue === '' && this.placeholder !== undefined) {\n          this.setInputValue(this.placeholder)\n          initialProperties?.onBlur?.(true)\n        } else {\n          initialProperties?.onBlur?.(false)\n        }\n      }),\n      onChanged: new OnChanged(({ value }) => {\n        if (this.shape.visible) {\n          this.inputValue = value\n          if (value !== this.placeholder) {\n            if (value === '') {\n              this.shape.placeholder = ''\n            }\n            if (this.isInputFocused || value === '') {\n              const waitTime = initialProperties?.waitTime ?? UIPoweredInputText.DEFAULT_WAIT_TIME\n              //@ts-ignore\n              setTimeout(() => {\n                // We are adding a waiting time, so if someone is writing a long text, we don't report the event on each key press\n                if (this.inputValue === value) {\n                  initialProperties?.onChanged?.(value)\n                }\n              }, waitTime)\n            }\n          }\n        }\n      }),\n      onTextSubmit: new OnTextSubmit(({ text }) => {\n        const value = text.substr(0, text.length - 1) // We need to remove the last char, that is a return line\n        const callBack = initialProperties?.onTextSubmit\n        if (callBack) {\n          callBack(value)\n        } else {\n          // If there is no callback set, just re-set the current value. We need to add a timeout, so that the event finished before starting the following one\n          //@ts-ignore\n          setTimeout(() => (this.shape.placeholder = value), 0)\n        }\n      })\n    })\n    this.placeholder = this.shape.placeholder\n    this.inputValue = initialProperties?.value ?? initialProperties?.placeholder ?? ''\n    this.isInputFocused = false\n  }\n\n  public getValue(): string {\n    return this.inputValue\n  }\n\n  public isFocused() {\n    return this.isInputFocused\n  }\n\n  /**\n   * Set an input value, without rasing an event\n   */\n  public setInputValue(text: string) {\n    const wasFocused = this.isInputFocused\n    this.isInputFocused = false\n    this.shape.placeholder = ''\n    this.inputValue = this.shape.placeholder = text\n    this.isInputFocused = wasFocused\n  }\n\n  public reset() {\n    this.setInputValue(this.placeholder)\n  }\n\n  public hide() {\n    this.setProperties({ visible: false })\n  }\n\n  public show() {\n    this.setProperties({ visible: true })\n    this.setInputValue(this.inputValue) // Necessary hack, because if focused when hidden, the text goes away\n  }\n}\n\ntype InitialProperties = Omit<\n  InitialUIProperties<UIInputText>,\n  'onFocus' | 'onBlur' | 'onChanged' | 'onTextSubmit'\n> & {\n  waitTime?: number // delay in ms that we wait before the user stopped changing the text, so that we consider it finally stopped changing,\n  onFocus?: Callback\n  onBlur?: (defaultedToPlaceholder: boolean) => void\n  onChanged?: StringCallback\n  onTextSubmit?: StringCallback\n}\ntype Callback = () => void\ntype StringCallback = (value: string) => void\n","import { InitialUIProperties, UIBase } from './commons/UIBase'\n\n/**\n * This is a UIContainerRect, with a configurable click event\n */\nexport class UIClickableContainerRect extends UIBase<UIContainerRect> {\n  private readonly image: UIImage\n\n  constructor(parent: UIShape, initialProperties?: InitialProperties) {\n    super(new UIContainerRect(parent), {\n      isPointerBlocker: true,\n      ...initialProperties\n    })\n\n    const image = new UIImage(\n      this.shape,\n      new Texture(\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII='\n      )\n    )\n    image.width = '100%'\n    image.height = '100%'\n    image.sourceWidth = 1\n    image.sourceHeight = 1\n    image.isPointerBlocker = true\n    this.image = image\n    if (initialProperties?.onClick) {\n      this.setOnClick(initialProperties.onClick)\n    }\n  }\n\n  public performClick() {\n    this.image.onClick?.callback({})\n  }\n\n  public setOnClick(onClick: OnClick) {\n    this.image.onClick = new OnClick(onClick)\n  }\n\n  public clearOnClick() {\n    this.image.onClick = null\n  }\n}\n\ntype InitialProperties = Omit<InitialUIProperties<UIContainerRect>, 'onChange'> & {\n  onClick?: OnClick\n  placeholderColor?: Color4\n}\ntype OnClick = () => void\n","import { InitialUIProperties, UIBase } from './commons/UIBase'\nimport { UIClickableContainerRect } from './UIClickableContainerRect'\nimport { SearchPromptOption } from './UISearchPrompt'\n\nexport class UISearchPromptOption extends UIBase<UIContainerRect> {\n  private static readonly DEFAULTS: UISearchPromptOptionConfig = {\n    topFontSize: 14,\n    bottomFontSize: 14,\n    imageSize: 36,\n    topTextColor: Color4.FromInts(14, 16, 60, 255),\n    bottomTextColor: Color4.FromInts(117, 120, 181, 255)\n  }\n\n  private readonly config: UISearchPromptOptionConfig\n  private readonly image: UIImage\n  private readonly topRightText: UIText\n  private readonly topLeftText: UIText\n  private readonly bottomLeftText: UIText\n  private readonly bottomRightText: UIText\n  private readonly clickableContainer: UIClickableContainerRect\n\n  constructor(parent: UIShape, initialProperties?: InitialProperties) {\n    super(new UIContainerRect(parent), {\n      width: '100%',\n      vAlign: 'top',\n      visible: false,\n      ...initialProperties\n    })\n\n    this.config = { ...UISearchPromptOption.DEFAULTS, ...initialProperties }\n\n    const clickableContainer = new UIClickableContainerRect(this.shape, {\n      width: '100%',\n      height: '100%',\n      color: Color4.Clear()\n    })\n    this.clickableContainer = clickableContainer\n\n    const image = new UIImage(\n      clickableContainer.shape,\n      new Texture(\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII='\n      )\n    )\n    image.width = image.height = this.config.imageSize\n    image.hAlign = 'left'\n    image.positionX = 10\n    image.vAlign = 'center'\n    this.image = image\n\n    const topLeftText = new UIText(clickableContainer.shape)\n    topLeftText.vAlign = 'top'\n    topLeftText.hAlign = 'left'\n    topLeftText.vTextAlign = 'top'\n    topLeftText.fontSize = this.config.topFontSize\n    topLeftText.color = this.config.topTextColor\n    topLeftText.positionX = 55\n    topLeftText.positionY = -10\n    topLeftText.isPointerBlocker = false\n    this.topLeftText = topLeftText\n\n    const topRightText = new UIText(clickableContainer.shape)\n    topRightText.vAlign = 'top'\n    topRightText.hAlign = 'right'\n    topRightText.vTextAlign = 'top'\n    topRightText.hTextAlign = 'right'\n    topRightText.fontSize = topLeftText.fontSize\n    topRightText.color = topLeftText.color\n    topRightText.isPointerBlocker = false\n    topRightText.positionX = -10\n    topRightText.positionY = topLeftText.positionY\n    this.topRightText = topRightText\n\n    const bottomLeftText = new UIText(clickableContainer.shape)\n    bottomLeftText.vAlign = 'bottom'\n    bottomLeftText.hAlign = 'left'\n    bottomLeftText.vTextAlign = 'bottom'\n    bottomLeftText.fontSize = this.config.bottomFontSize\n    bottomLeftText.color = this.config.bottomTextColor\n    bottomLeftText.positionX = topLeftText.positionX\n    bottomLeftText.positionY = 10\n    bottomLeftText.isPointerBlocker = false\n    this.bottomLeftText = bottomLeftText\n\n    const bottomRightText = new UIText(clickableContainer.shape)\n    bottomRightText.vAlign = 'bottom'\n    bottomRightText.hAlign = 'right'\n    bottomRightText.vTextAlign = 'bottom'\n    bottomRightText.hTextAlign = 'right'\n    bottomRightText.fontSize = bottomLeftText.fontSize\n    bottomRightText.color = bottomLeftText.color\n    bottomRightText.isPointerBlocker = false\n    bottomRightText.positionX = topRightText.positionX\n    bottomRightText.positionY = bottomLeftText.positionY\n    this.bottomRightText = bottomRightText\n  }\n\n  public setOption(option: SearchPromptOption, onClick?: () => void) {\n    this.image.visible = false\n    this.topRightText.visible = false\n    this.bottomLeftText.visible = false\n    this.bottomRightText.visible = false\n    if (option.image) {\n      this.image.source = new Texture(option.image.src)\n      this.image.sourceWidth = option.image.sourceWidth\n      this.image.sourceHeight = option.image.sourceHeight\n      this.image.visible = true\n      this.topLeftText.positionX = this.config.imageSize + 10 * 2\n    } else {\n      this.topLeftText.positionX = 10\n    }\n\n    if (typeof option.visualText === 'string') {\n      this.topLeftText.value = option.visualText\n      this.topLeftText.vAlign = this.topLeftText.vTextAlign = 'center'\n      this.topLeftText.positionY = 0\n    } else if ('text' in option.visualText) {\n      this.topLeftText.vAlign = this.topLeftText.vTextAlign = 'top'\n      this.topLeftText.positionY = -10\n      this.topLeftText.value = option.visualText.text\n      this.bottomLeftText.value = option.visualText.subText\n      this.bottomLeftText.visible = true\n      this.bottomLeftText.positionX = this.topLeftText.positionX\n    } else if ('bottomLeft' in option.visualText) {\n      this.topLeftText.vAlign = this.topLeftText.vTextAlign = 'top'\n      this.topLeftText.positionY = -10\n      this.topLeftText.value = option.visualText.topLeft\n      this.topRightText.value = option.visualText.topRight\n      this.bottomLeftText.value = option.visualText.bottomLeft\n      this.bottomRightText.value = option.visualText.bottomRight\n      this.topRightText.visible = true\n      this.bottomLeftText.visible = true\n      this.bottomRightText.visible = true\n      this.bottomLeftText.positionX = this.topLeftText.positionX\n    }\n    if (onClick) {\n      this.clickableContainer.setOnClick(onClick)\n    } else {\n      this.clickableContainer.clearOnClick()\n    }\n  }\n\n  public setProperties(prop: Partial<UIContainerRect>) {\n    super.setProperties(prop)\n  }\n\n  public getProperty<K extends keyof UIContainerRect>(propName: K): UIContainerRect[K] {\n    return super.getProperty(propName)\n  }\n\n  /**\n   * Simulate as if the user had clicked on the option, and perform the corresponding action\n   */\n  public performClick() {\n    this.clickableContainer.performClick()\n  }\n}\n\ntype InitialProperties = InitialUIProperties<UIContainerRect> &\n  UISearchPromptOptionConfig & { placeholderColor?: Color4 }\n\ntype UISearchPromptOptionConfig = {\n  topFontSize: number\n  bottomFontSize: number\n  imageSize: number\n  topTextColor: Color4\n  bottomTextColor: Color4\n  background?: Color4\n  placeholderColor?: Color4\n}\n","import { lightTheme } from \"../utils/default-ui-components\"\nimport { deepMerge, RecursivePartial } from \"./commons/shared\"\nimport { UIBase } from \"./commons/UIBase\"\nimport { UIPoweredInputText } from \"./UIPoweredInputText\"\nimport { UISearchPromptOption } from \"./UISearchPromptOption\"\n\nexport class UISearchPrompt extends UIBase<UIContainerRect> {\n\n  public static readonly DEFAULTS: UISearchPromptConfig = {\n    borderColor: Color4.FromInts(232, 236, 253, 255),\n    backgroundColor: Color4.White(),\n    borderSize: 2,\n    width: 300,\n    initialHeight: 60,\n    search: {\n      fontSize: 16,\n      textColor: Color4.FromInts(24, 26, 70, 255),\n      placeholder: {\n        defaultText: 'Click to search',\n        textColor: Color4.FromInts(118, 120, 181, 200)\n      }\n    },\n    options: {\n      maxVisibleOptions: 5,\n      oddBackgroundColor: Color4.FromInts(246, 246, 255, 255),\n      topFontSize: 14,\n      bottomFontSize: 14,\n      imageSize: 36,\n      topTextColor: Color4.FromInts(14, 16, 60, 255),\n      bottomTextColor: Color4.FromInts(117, 120, 181, 255),\n    },\n    errorMessage: {\n      fontSize: 13,\n      textColor: Color4.FromInts(125, 127, 157, 255)\n    }\n  }\n\n  private readonly config: UISearchPromptConfig\n  private readonly inputText: UIPoweredInputText\n  private readonly insideContainer: UIContainerRect\n  private readonly errorMessage: UIText\n  private readonly uiOptions: UISearchPromptOption[] = []\n  private options: { [id: string]: SearchPromptOption } = {}\n  private defaultOptions: string[] | undefined\n\n  constructor(\n    parent: UIShape,\n    searchItems: {\n      items: SearchPromptOption[],\n      dropdownDefaultItemIds?: string[],\n    },\n    initialConfig: UISearchPromtInitialProperties,\n    private readonly onSuccessfulSelection: (selected: SearchPromptOption) => void) {\n    super(new UIContainerRect(parent), {\n      ...initialConfig\n    })\n\n    const { visible, opacity, hAlign, vAlign, positionX, positionY, ...otherConfig } = initialConfig\n    this.config = deepMerge(UISearchPrompt.DEFAULTS, otherConfig)\n\n    this.setProperties({\n      width: this.config.width,\n      height: this.config.initialHeight,\n      color: this.config.borderColor,\n    })\n\n    this.setItems(searchItems.items, searchItems.dropdownDefaultItemIds)\n\n    const insideContainer = new UIContainerRect(this.shape)\n    insideContainer.color = this.config.backgroundColor\n    insideContainer.width = this.config.width - this.config.borderSize * 2\n    insideContainer.height = this.config.initialHeight - this.config.borderSize * 2\n    this.insideContainer = insideContainer\n\n    const inputText = new UIPoweredInputText(insideContainer, {\n      vAlign: 'top',\n      hTextAlign: 'left',\n      vTextAlign: 'center',\n      width: '92%',\n      fontSize: this.config.search.fontSize,\n      placeholder: this.config.search.placeholder.defaultText,\n      color: this.config.search.textColor,\n      focusedBackground: Color4.Clear(),\n      height: this.config.initialHeight * 0.95,\n      onBlur: () => this.close(),\n      onTextSubmit: () => {\n        const isThereAnOption = this.uiOptions[0].getProperty('visible')\n        if (isThereAnOption) {\n          this.uiOptions[0].performClick()\n        } else {\n          this.close()\n        }\n      },\n      onChanged: (value) => {\n        this.hideAllOptions()\n        if (value === this.config.search.placeholder.defaultText || value === '') {\n          this.showDefaultOptions()\n        } else {\n          const textToSearch = value.toLowerCase()\n          const result: SearchPromptOption[] = []\n          for (const optionId in this.options) {\n            const option = this.options[optionId]\n            if (option.searchBy!.toLowerCase().indexOf(textToSearch) >= 0) {\n              result.push(option)\n              if (result.length === this.config.options.maxVisibleOptions) {\n                break;\n              }\n            }\n          }\n          if (result.length > 0) {\n            this.showOptions(result)\n          } else {\n            this.showErrorMessage(`Sorry, we can't find \"${value}\"`)\n          }\n        }\n      }\n    })\n    this.inputText = inputText\n\n    for (let i = 0; i < this.config.options.maxVisibleOptions; i++) {\n      const newOption = new UISearchPromptOption(insideContainer, {\n        ...this.config.options,\n        height: this.config.initialHeight,\n        positionY: -this.config.initialHeight - this.config.initialHeight * i,\n        color: i % 2 === 0 ? this.config.options.oddBackgroundColor : insideContainer.color\n      })\n      this.uiOptions.push(newOption)\n    }\n\n    const closeButton = new UIImage(insideContainer, lightTheme)\n    closeButton.onClick = new OnClick(() => this.close())\n    closeButton.sourceTop = 305\n    closeButton.sourceLeft = 985\n    closeButton.sourceWidth = closeButton.sourceHeight = 35\n    closeButton.width = closeButton.height = 18\n    closeButton.hAlign = 'right'\n    closeButton.vAlign = 'top'\n    closeButton.positionX = -12\n    closeButton.positionY = -12\n    closeButton.visible = closeButton.isPointerBlocker = true\n\n    const cantFindMessage = new UIText(insideContainer)\n    cantFindMessage.height = 20\n    cantFindMessage.visible = false\n    cantFindMessage.width = '92%'\n    cantFindMessage.hTextAlign = 'center'\n    cantFindMessage.vAlign = 'bottom'\n    cantFindMessage.positionY = 20\n    cantFindMessage.fontSize = this.config.errorMessage.fontSize\n    cantFindMessage.color = this.config.errorMessage.textColor\n    this.errorMessage = cantFindMessage\n  }\n\n  /**\n   * Opens the search box\n   */\n  public open() {\n    this.setProperties({ visible: true })\n    this.showDefaultOptions()\n  }\n\n  /**\n   * Close the search box\n   */\n  public close() {\n    this.setProperties({ visible: false })\n    this.inputText.reset()\n  }\n\n  /**\n   * Sets all options available on the search box\n   */\n  public setItems(options: SearchPromptOption[], dropdownDefaults?: string[]) {\n    this.options = options.reduce((acc, curr) => {\n      curr.searchBy = curr.searchBy ?? (typeof curr.visualText === 'string' ? curr.visualText : ('text' in curr.visualText ? curr.visualText.text : curr.visualText.topLeft))\n      acc[curr.id] = curr;\n      return acc\n    }, {} as { [id: string]: SearchPromptOption });\n    if (dropdownDefaults) {\n      this.setDropdownDefaults(dropdownDefaults)\n    } else {\n      this.defaultOptions = dropdownDefaults\n    }\n    this.hideAllOptions()\n  }\n\n  /**\n   * Sets the options with the given ids as the ones that will be shown when there is no text on the search box\n   */\n  public setDropdownDefaults(defaults: string[]) {\n    for (const optionId of defaults) {\n      if (!(optionId in this.options)) {\n        error(`Couldn't find an option with id '${optionId}'. Will not set new defaults`)\n        return\n      }\n    }\n    this.defaultOptions = defaults\n  }\n\n  private showDefaultOptions() {\n    let options: SearchPromptOption[]\n    if (this.defaultOptions) {\n      options = this.defaultOptions.map(id => this.options[id]).slice(0, this.config.options.maxVisibleOptions)\n    } else {\n      options = []\n      for (const optionId in this.options) {\n        options.push(this.options[optionId])\n        if (options.length === this.config.options.maxVisibleOptions) {\n          break\n        }\n      }\n\n    }\n    this.showOptions(options)\n  }\n\n  private showOptions(options: SearchPromptOption[]) {\n    this.resizeHeight(this.config.initialHeight * options.length + this.config.borderSize * 2)\n    options.forEach((option, index) => {\n      const uiOption: UISearchPromptOption = this.uiOptions[index]\n      uiOption.setOption(option, () => {\n        this.onSuccessfulSelection(option)\n        this.setProperties({ visible: false })\n      })\n      uiOption.setProperties({ visible: true })\n    })\n    this.errorMessage.visible = false\n  }\n\n  private hideAllOptions() {\n    this.uiOptions.forEach(option => option.setProperties({ visible: false }))\n  }\n\n  private showErrorMessage(errorMessage: string) {\n    this.errorMessage.visible = true\n    this.errorMessage.value = errorMessage\n    this.resizeHeight(+60)\n  }\n\n  private resizeHeight(relativeHeight: number) {\n    this.setProperties({ height: this.config.initialHeight + relativeHeight })\n    this.insideContainer.height = this.config.initialHeight + relativeHeight - this.config.borderSize * 2\n  }\n}\n\nexport type SearchPromptOption = {\n  id: string,\n  // If not set, then we will search for the top or topLeft text\n  searchBy?: string\n  visualText: SearchPromptOptionText,\n  image?: {\n    src: string,\n    sourceWidth: number\n    sourceHeight: number\n  }\n}\n\nexport type UISearchPromptConfig = {\n  borderColor: Color4\n  backgroundColor: Color4\n  borderSize: number\n  width: number\n  initialHeight: number\n  search: {\n    fontSize: number\n    textColor: Color4\n    placeholder: {\n      defaultText: string\n      textColor: Color4\n    }\n  }\n  options: {\n    maxVisibleOptions: number\n    oddBackgroundColor: Color4\n    imageSize: number\n    topFontSize: number\n    bottomFontSize: number\n    topTextColor: Color4\n    bottomTextColor: Color4\n  }\n  errorMessage: {\n    fontSize: number\n    textColor: Color4\n  }\n}\n\nexport type UISearchPromtInitialProperties = RecursivePartial<Pick<UIContainerRect, 'visible' | 'opacity' | 'hAlign' | 'vAlign' | 'positionX' | 'positionY'> & UISearchPromptConfig>\n\ntype SearchPromptOptionText =\n  string |\n  { text: string, subText: string } |\n  { topLeft: string, topRight: string, bottomLeft: string, bottomRight: string }","import { deepMerge } from \"./commons/shared\"\nimport { UIBase } from \"./commons/UIBase\"\nimport { UIClickableContainerRect } from \"./UIClickableContainerRect\"\nimport { SearchPromptOption, UISearchPrompt, UISearchPromptConfig, UISearchPromtInitialProperties } from \"./UISearchPrompt\"\nimport { UISearchPromptOption } from \"./UISearchPromptOption\"\n\nexport class UISelectBox extends UIBase<UIContainerRect> {\n\n  private readonly uiSearchPrompt: UISearchPrompt\n  private readonly config: UISearchPromptConfig\n  private readonly initialText: UIText\n\n  constructor(\n    parent: UIShape,\n    searchItems: {\n      items: SearchPromptOption[],\n      initialItemId?: string,\n      dropdownDefaultItemIds?: string[],\n    },\n    initialConfig: UISearchPromtInitialProperties,\n    private readonly onSuccessfulSelection: (selected: SearchPromptOption) => void) {\n    super(new UIContainerRect(parent), {\n      ...initialConfig\n    })\n\n    const { visible, opacity, hAlign, vAlign, positionX, positionY, ...otherConfig } = initialConfig\n    this.config = deepMerge(UISearchPrompt.DEFAULTS, otherConfig)\n\n    this.setProperties({\n      width: this.config.width,\n      height: this.config.initialHeight,\n      color: this.config.borderColor,\n    })\n\n    const insideContainer = new UIClickableContainerRect(this.shape, {\n      color: this.config.backgroundColor,\n      width: this.config.width - this.config.borderSize * 2,\n      height: this.config.initialHeight - this.config.borderSize * 2,\n      onClick: () => this.uiSearchPrompt.open()\n    })\n\n    const option = new UISearchPromptOption(insideContainer.shape, {\n      ...this.config.options,\n      height: this.config.initialHeight,\n      color: Color4.Clear(),\n      width: this.config.width - this.config.borderSize * 2 - 20,\n      visible: true,\n      hAlign: 'left',\n      isPointerBlocker: false,\n    })\n\n    const initialText = new UIText(insideContainer.shape)\n    initialText.value = 'Click to select an option'\n    initialText.fontSize = this.config.search.fontSize\n    initialText.color = this.config.search.placeholder.textColor\n    initialText.vTextAlign = initialText.hTextAlign = 'center'\n    initialText.positionX = -this.config.borderSize - 10\n    initialText.isPointerBlocker = false\n    initialText.opacity = initialText.color.a\n    this.initialText = initialText\n\n    if (searchItems?.initialItemId) {\n      const initialOption = searchItems.items.filter(({ id }) => id === searchItems.initialItemId)[0]\n      if (initialOption) {\n        option.setOption(initialOption)\n        this.initialText.visible = false\n      }\n    }\n\n    const openSearchTexture = new Texture('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAN5AAADeQELGyzWAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAAlQTFRF////AAAAAAAAflGpXQAAAAJ0Uk5TAICbK04YAAAAeklEQVQ4je3PsRXEMAgE0VFCEapG9agaiiDRVXkJxlpq8IYT/AfwTbZ/ssPUEJgGZ2hYDTmgSIAiDoqsdskBRQIUcVBktXdO/jeVuBDPMBpRyEMUEhVMiUKKSOQlEokrmBKJXARsJWAqAaYEjEbAVgJmtGDewmjEt9wfISOqAUzY2sAAAAAASUVORK5CYII=')\n    const openSearchButton = new UIImage(insideContainer.shape, openSearchTexture)\n    openSearchButton.sourceWidth = openSearchButton.sourceHeight = 64\n    openSearchButton.height = 15\n    openSearchButton.width = 12\n    openSearchButton.hAlign = 'right'\n    openSearchButton.vAlign = 'center'\n    openSearchButton.positionX = -10\n    openSearchButton.visible = true\n    openSearchButton.isPointerBlocker = false\n\n    this.uiSearchPrompt = new UISearchPrompt(this.shape,\n      searchItems,\n      { ...initialConfig,\n        visible: false,\n        vAlign: 'top',\n        initialHeight: this.config.initialHeight - this.config.borderSize * 2\n      },\n      (selectedOption: SearchPromptOption) => {\n        option.setOption(selectedOption)\n        this.initialText.visible = false\n        this.onSuccessfulSelection(selectedOption)\n    })\n  }\n\n  /**\n   * Opens the select box\n   */\n  public open() {\n    this.setProperties({ visible: true })\n  }\n\n  /**\n   * Close the select box\n   */\n  public close() {\n    this.setProperties({ visible: false })\n  }\n\n  /**\n   * Sets all options available on the select box\n   */\n  public setSearchItems(options: SearchPromptOption[], dropdownDefaults?: string[]) {\n    this.uiSearchPrompt.setItems(options, dropdownDefaults)\n  }\n\n  /**\n   * Sets the options with the given ids as the ones that will be shown when there is no text on the select box\n   */\n  public setSearchDropdownDefaults(defaults: string[]) {\n    this.uiSearchPrompt.setDropdownDefaults(defaults)\n  }\n}\n","import { UIDelay } from '../utils/timerComponents'\nimport { message, SFHeavyFont } from '../utils/default-ui-components'\n\n/**\n * Displays text in the center of the UI for a specific time\n *\n * @param {string} value string to display\n * @param {duration} duration time to keep the text visible (in seconds). Default: 3 seconds.\n * @param {Color4} [color=Color.Yellow()] text color, as a Color4. Default: black\n * @param {number} [size=60] font size, default 60\n * @param {boolean} bordersOff if true, text won't have a black margin around it\n *\n */\nexport function displayAnnouncement(\n  value: string,\n  duration?: number,\n  color?: Color4,\n  size?: number,\n  bordersOff?: boolean\n) {\n  message.visible = true\n  message.value = value\n\n  message.color = color ? color : Color4.Yellow()\n\n  message.fontSize = size ? size : 50\n  message.font = SFHeavyFont\n\n  message.outlineColor = Color4.Black()\n\n  message.outlineWidth = bordersOff ? 0 : 0.1\n\n  //message.width = value.length * message.fontSize\n  message.adaptWidth = false\n  message.textWrapping = true\n  message.width = 900\n\n  let dummyEnty = new Entity()\n  engine.addEntity(dummyEnty)\n\n  if (duration != -1) {\n    dummyEnty.addComponentOrReplace(\n      new UIDelay(duration ? duration : 3, () => {\n        message.visible = false\n      })\n    )\n  }\n}\n\n/**\n * Hides any announcement text that might be visible\n */\nexport function hideAnnouncements() {\n  message.visible = false\n}\n"],"names":["seconds","onTimeReachedCallback","TimerSystem","createAndAddToEngine","this","elapsedTime","targetTime","onTargetTimeReached","entity","_this","removeComponent","UIDelay_1","UIDelay","Component","entitiesWithDelay","engine","getComponentGroup","_instance","addSystem","dt","_b","__values","entities","ent","timerComponent","getComponent","canvas","UICanvas","visible","SFFont","Font","Fonts","SanFrancisco","SFHeavyFont","SanFrancisco_Heavy","lightTheme","Texture","darkTheme","message","UIText","vAlign","hAlign","hTextAlign","vTextAlign","font","fontSize","color","Color4","positionY","promptBackground","UIImage","width","height","PromptStyles","BarStyles","ButtonStyles","SwitchStyles","value","xOffset","yOffset","size","bordersOff","fixedDigits","_super","valueAsNum","uiText","toFixedLengthString","positionX","White","outlineColor","Black","outlineWidth","__extends","UICounter","amount","stringValue","toString","lenDiff","length","concat","toPrecision","Entity","buttonE","sourceWidth","sourceHeight","sourceLeft","sourceTop","buttonF","white","buttonRed","buttonDark","roundBlack","squareBlack","roundWhite","squareWhite","roundSilver","squareSilver","roundGold","squareGold","E","F","EBlack","FBlack","promptLargeBackground","promptSlantedBackground","NPCDialog","closeW","closeD","closeWLarge","closeDLarge","closeWNoBack","closeDNoBack","closeWNoBackLarge","closeDNoBackLarge","FDark","FWhite","EDark","EWhite","Timer","TimerLarge","ClickWhite","ClickDark","wOff","wOn","dOff","dOn","wLargeOff","wLargeOn","dLargeOff","dLargeOn","roundOff","roundRed","roundGreen","squareOff","squareRed","squareGreen","setSection","image","section","buttonIconPos","textLen","pos","fillColor","style","scale","startHidden","fullWidth","background","ROUNDBLACK","resources","ROUNDWHITE","ROUNDSILVER","ROUNDGOLD","SQUAREBLACK","SQUAREWHITE","SQUARESILVER","SQUAREGOLD","bar","UIContainerRect","Red","thickness","hide","UIBar","texture","MediumIcon","duration","dummyEnty","addEntity","addComponentOrReplace","SmallIcon","LargeIcon","CenterImage","instructions","onAccept","acceptLabel","useDarkTheme","UIOpenTime","Date","now","uiTheme","source","closeIcon","onClick","OnClick","close","text","adaptWidth","textWrapping","button","icon","isPointerBlocker","buttonLabel","accept","EButtonAction","Input","instance","subscribe","ActionButton","PRIMARY","e","OkPrompt","unsubscribe","title","onReject","rejectLabel","buttonEIcon","buttonELabel","buttonFIcon","buttonFLabel","reject","FButtonAction","SECONDARY","OptionPrompt","placeholder","fillInBox","UIInputText","submittedText","onChanged","OnChanged","x","onTextSubmit","OnTextSubmit","FillInPrompt","LIGHT","DARK","LIGHTLARGE","DARKLARGE","LIGHTSLANTED","DARKSLANTED","CustomPrompt","elements","show","posX","posY","CustomPromptText","undefined","push","label","CustomPromptButton","onCheck","onUncheck","large","startChecked","checkBox","CustomPromptCheckBox","uiswitch","CustomPromptSwitch","iconTexture","CustomPromptIcon","onChange","texBox","CustomPromptTextBox","parent","RED","Gray","checked","uncheck","check","ROUNDGREEN","ROUNDRED","SQUAREGREEN","SQUARERED","currentText","CornerLabel","newString","LoadingIcon","isObject","item","Array","isArray","deepMerge","target","output","Object","keys","forEach","key","shape","initialProperties","setProperties","UIBase","prop","propName","onFocus","OnFocus","isInputFocused","onBlur","OnBlur","inputValue","setInputValue","_a","waitTime","UIPoweredInputText","DEFAULT_WAIT_TIME","setTimeout","substr","callBack","wasFocused","setOnClick","UIClickableContainerRect","callback","config","UISearchPromptOption","DEFAULTS","clickableContainer","Clear","imageSize","topLeftText","topFontSize","topTextColor","topRightText","bottomLeftText","bottomFontSize","bottomTextColor","bottomRightText","option","src","visualText","subText","topLeft","topRight","bottomLeft","bottomRight","clearOnClick","getProperty","performClick","FromInts","searchItems","initialConfig","onSuccessfulSelection","otherConfig","UISearchPrompt","initialHeight","borderColor","setItems","items","dropdownDefaultItemIds","insideContainer","backgroundColor","borderSize","inputText","search","defaultText","textColor","focusedBackground","uiOptions","hideAllOptions","showDefaultOptions","textToSearch","toLowerCase","result","optionId","options","searchBy","indexOf","maxVisibleOptions","showOptions","showErrorMessage","i","newOption","oddBackgroundColor","closeButton","cantFindMessage","errorMessage","reset","dropdownDefaults","reduce","acc","curr","id","setDropdownDefaults","defaultOptions","defaults","defaults_1","error","map","slice","resizeHeight","index","uiOption","setOption","relativeHeight","uiSearchPrompt","open","initialText","opacity","a","initialItemId","initialOption","filter","openSearchTexture","openSearchButton","selectedOption","UISelectBox","Yellow"],"mappings":"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"}